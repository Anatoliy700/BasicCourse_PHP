"use strict";var _createClass=function(){function a(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,s){return e&&a(t.prototype,e),s&&a(t,s),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Basket=function(){function e(t){_classCallCheck(this,e),this.settings=t,this.countGoods=0,this.amount=0,this.basketItems=[],this.$productsWrap=null,this.$elemCounter=$("#"+t.idCountGoods),this.$elemTotalPrice=null}return _createClass(e,[{key:"render",value:function(t){this.$productsWrap=$("<div />",{class:this.settings.basketHeaderSettings.classWrapProducts}),this.$elemTotalPrice=$("<span />",{class:this.settings.basketHeaderSettings.classTotalValue});var e=$("<div />",{class:this.settings.basketHeaderSettings.classWrapPriceTotal}).append($("<span />",{class:this.settings.basketHeaderSettings.classTotalDescription,text:"total"})).append(this.$elemTotalPrice),s=$("<div />",{class:this.settings.basketHeaderSettings.classWrapButton}).append($("<button />",{class:this.settings.basketHeaderSettings.classButtonCheckout,text:"Checkout"})).append($("<button />",{class:this.settings.basketHeaderSettings.classButtonGoToCart,text:"Go to cart","data-type":"shopping-cart"}));t.append(this.$productsWrap).append(e).append(s),this.getBasket()}},{key:"getBasket",value:function(o){$.ajax({type:"GET",url:this.settings.pathJsonFile,context:this,success:function(t){this.amount=t.amount;var e=!0,s=!1,a=void 0;try{for(var i,n=t.basket[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var r=i.value;this.countGoods+=r.quantity,this.basketItems.push(r)}}catch(t){s=!0,a=t}finally{try{!e&&n.return&&n.return()}finally{if(s)throw a}}this.refresh(),o()},error:function(t){console.log("Произошла ошибка при получении данных",t)},dataType:"json"})}},{key:"add",value:function(e,t,s,a){var i={id_product:e,price:s,title:t,src:a,quantity:1},n=this.basketItems.findIndex(function(t){return t.id_product===e});-1===n?this.basketItems.push(i):this.basketItems[n].quantity++,this.countGoods++,this.amount+=s,this.refresh()}},{key:"addQuantity",value:function(s,a){var i=this;this.basketItems.findIndex(function(t){if(t.id_product===s){var e=a-t.quantity;t.quantity+=e,i.countGoods+=e,i.amount+=t.price*e}i.refresh()})}},{key:"remove",value:function(t){for(var e in this.basketItems)if(this.basketItems[e].id_product===t){this.amount-=this.basketItems[e].price,this.countGoods--,1<this.basketItems[e].quantity?this.basketItems[e].quantity--:this.basketItems.splice(e,1),this.refresh();break}}},{key:"removeAllQuantity",value:function(t){for(var e in this.basketItems)if(this.basketItems[e].id_product===t){var s=this.basketItems[e].quantity;this.amount-=this.basketItems[e].price*s,this.countGoods-=s,this.basketItems.splice(e,1),this.refresh();break}}},{key:"clear",value:function(){this.countGoods=0,this.amount=0,this.basketItems=[],this.refresh()}},{key:"setCounterAndTotalPrice",value:function(){var t=this.countGoods;0<t?this.$elemCounter.text(t).addClass("active"):this.$elemCounter.text("").removeClass("active")}},{key:"refresh",value:function(){this.setCounterAndTotalPrice(),this.settings.objectBasketHeader&&this.settings.objectBasketHeader.refresh(),this.settings.objectBasketPage&&this.settings.objectBasketPage.refresh()}}]),e}(),BasketHeader=function(){function e(t){_classCallCheck(this,e),this.linkBasket=t,this.settings=t.settings.basketHeaderSettings,this.objectRunBasket=t.settings.objectRunBasket}return _createClass(e,[{key:"init",value:function(){var e=this,t=$("#"+this.settings.idWrapTopBasket);this.$productsWrap=$("<div />",{class:this.settings.classWrapProducts}),this.$elemTotalPrice=$("<span />",{class:this.settings.classTotalValue});var s=$("<div />",{class:this.settings.classWrapPriceTotal}).append($("<span />",{class:this.settings.classTotalDescription,text:"total"})).append(this.$elemTotalPrice),a=$("<div />",{class:this.settings.classWrapButton}).append($("<button />",{class:this.settings.classButtonCheckout,text:"Checkout"})).append($("<button />",{class:this.settings.classButtonGoToCart,text:"Go to cart","data-type":"shopping-cart"}));t.append(this.$productsWrap).append(s).append(a).on("click","button",function(t){return e.btnClickHandler(t)}),this.refresh()}},{key:"btnClickHandler",value:function(t){this.objectRunBasket.btnClickHandler(t)}},{key:"refresh",value:function(){if(this.$elemTotalPrice.text("$"+this.linkBasket.amount),0===this.linkBasket.basketItems.length)this.$productsWrap.empty().text("Товаров в карзине нет!");else{this.$productsWrap.empty();var t=!0,e=!1,s=void 0;try{for(var a,i=this.linkBasket.basketItems[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var n=a.value;this.$productsWrap.append(new Good(n.id_product,n.title,n.price,n.src,n.quantity).renderForHeader())}}catch(t){e=!0,s=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw s}}}}}]),e}(),BasketPage=function(){function e(t){_classCallCheck(this,e),this.linkBasket=t,this.settings=t.settings.basketPageSettings,this.objectRunBasket=t.settings.objectRunBasket,this.objectRunBasket=t.settings.objectRunBasket,this.$wrapCart=null,this.$subTotal=null,this.$grandTotal=null}return _createClass(e,[{key:"init",value:function(){var e=this;this.$wrapCart=$("."+this.settings.classWrapCart),this.$subTotal=$("#"+this.settings.idSpanForSubTotal),this.$grandTotal=$("#"+this.settings.idSpanForGrandTotal),$("."+this.settings.classWrapContent).on("click","button",function(t){return e.btnClickHandler(t)}),this.$wrapCart.on("change","input",function(t){return e.inputChangeHandler(t)}),this.refresh()}},{key:"btnClickHandler",value:function(t){this.objectRunBasket.btnClickHandler(t)}},{key:"inputChangeHandler",value:function(t){this.objectRunBasket.btnClickHandler(t)}},{key:"refresh",value:function(){if(this.$subTotal.text("$"+this.linkBasket.amount),this.$grandTotal.text("$"+this.linkBasket.amount),0===this.linkBasket.basketItems.length)this.$wrapCart.empty().addClass(this.settings.classWrapCart+"_empty").text("Товаров в карзине нет!");else{this.$wrapCart.empty();var t=!0,e=!1,s=void 0;try{for(var a,i=this.linkBasket.basketItems[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var n=a.value;this.$wrapCart.append(new Good(n.id_product,n.title,n.price,n.src,n.quantity).renderForPage())}}catch(t){e=!0,s=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw s}}}}}]),e}(),Good=function(){function n(t,e,s,a,i){_classCallCheck(this,n),this.id=t,this.title=e,this.price=s,this.src=a,this.quantity=i}return _createClass(n,[{key:"renderForHeader",value:function(){return $('<div class="acc__cart__product">\n                    <div class="acc__cart__product__img">\n                      <img src="'+this.src+'" width="72" height="85" alt="Rebox Zane">\n                    </div>\n                    <div class="acc__cart__product__data">\n                      <span class="product__data_head">'+this.title+'</span>\n                      <span class="product__data_quality">\n                        <i class="fa fa-star" aria-hidden="true"></i>\n                        <i class="fa fa-star" aria-hidden="true"></i>\n                        <i class="fa fa-star" aria-hidden="true"></i>\n                        <i class="fa fa-star" aria-hidden="true"></i>\n                        <i class="fa fa-star quality-white" aria-hidden="true"></i>\n                      </span>\n                      <div class="product__data_calculation">\n                        <span class="product__data_number">'+this.quantity+'</span> x <span class="product__data_price">$'+this.price+'</span>\n                      </div>\n                    </div>\n                    <div class="acc__cart__product__del">\n                      <button data-type="del" data-id="'+this.id+'">\n                        <i class="fa fa-times" aria-hidden="true"></i>\n                      </button>\n                    </div>\n                  </div>')}},{key:"renderForPage",value:function(){return $('<div class="shopping-cart" data-id="'+this.id+'">\n                <div class="shopping-cart__product-details shopping-cart__column-first">\n                  <a href="#">\n                    <img src="'+this.src+'" width="100" height="115" alt="Mango People T-shirt">\n                  </a>\n                  <div class="product-details__description">\n                    <a href="#">'+this.title+'</a>\n                    <div>\n                      <div class="option-row">\n                        <span class="option-row__option">Color:</span>\n                        <span class="option-row__value">Red</span>\n                      </div>\n                      <div class="option-row">\n                        <span class="option-row__option">Size:</span>\n                        <span class="option-row__value">Xll</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class="shopping-cart__unite-price shopping-cart__column-center">\n                  <span class="unite-price">$'+this.price+'</span>\n                </div>\n                <div class="shopping-cart__quantity shopping-cart__column-center">\n                  <input title="quantity" type="text" class="quantity" data-type="quantity" value="'+this.quantity+'" required>\n                </div>\n                <div class="shopping-cart__shipping shopping-cart__column-center">\n                  <span class="shipping">free</span>\n                </div>\n                <div class="shopping-cart__subtotal shopping-cart__column-center">\n                  <span class="subtotal">$'+this.quantity*this.price+'</span>\n                </div>\n                <div class="shopping-cart__action shopping-cart__column-last">\n                  <button data-id="'+this.id+'" data-type="delAll">\n                    <i class="fa fa-times" aria-hidden="true"></i>\n                  </button>\n                </div>\n              </div>')}}]),n}(),basketRun={settings:{classWrapProductItems:"wrap-product-item",classProductItem:"product-item",classProductTitle:"title-item",classProductPrice:"price-val",classProductImage:"product-img",namePageShoppingCart:"shopping-cart",basketSettings:{pathJsonFile:"./json/basket_get.json",idCountGoods:"count-goods",objectRunBasket:null,objectBasketHeader:null,objectBasketPage:null,basketHeaderSettings:{idWrapTopBasket:"wrap-top-basket",classWrapProducts:"acc__cart__products-wrap",classWrapPriceTotal:"acc__cart__price-total",classWrapButton:"acc__cart__buttons",classTotalDescription:"price-total_description",classTotalValue:"price-total_value",idTotalValue:"total-top-basket",classButtonCheckout:"buttons_checkout",classButtonGoToCart:"buttons_go-to-cart",$elemWrapHeaderBasket:null},basketPageSettings:{classWrapContent:"wrap-content",classWrapCart:"wrap-cart",classShoppingCart:"shopping-cart",classUnitePriceForCart:"unite-price",classQuantityForCartInput:"quantity",classSubtotalForCart:"subtotal",idBtnForClearShoppingCart:"clearShoppingCart",idBtnForContinueShopping:"continueShopping",idSpanForSubTotal:"subTotal",idSpanForGrandTotal:"grandTotal",idBtnForCheckout:"proceedToCheckout"}}},$ElemDropBasket:null,basket:null,init:function(){var e=this;(this.settings.basketSettings.objectRunBasket=this).basket=new Basket(this.settings.basketSettings),this.basket.getBasket(function(){(e.settings.basketSettings.objectBasketHeader=new BasketHeader(e.basket)).init(),(e.settings.basketSettings.objectBasketPage=new BasketPage(e.basket)).init()});var t=$("."+this.settings.classWrapProductItems);0<!t.length||(t.on("click","button[data-type = add]",function(t){e.btnClickHandler(t),e.showDialog()}),this.droppInit())},btnClickHandler:function(t){var e=$(t.currentTarget);switch(e.attr("data-type")){case"del":this.removeOfBasket(e);break;case"delAll":this.removeAllQantity(e);break;case"add":this.goodAddToBasket(e.parents("."+this.settings.classProductItem));break;case"clear":this.clearBasket();break;case"quantity":this.goodAddQuantity(e.parents("."+this.settings.basketSettings.basketPageSettings.classShoppingCart));break;case"continue":case"checkout":break;case this.settings.namePageShoppingCart:location.href=this.settings.namePageShoppingCart+".php"}},goodAddToBasket:function(t){var e,s=[parseInt(t.attr("data-id")),t.find("."+this.settings.classProductTitle).text(),parseInt(t.find("."+this.settings.classProductPrice).text()),t.find("."+this.settings.classProductImage).attr("src")];(e=this.basket).add.apply(e,s)},goodAddQuantity:function(t){var e,s=[parseInt(t.attr("data-id")),parseInt(t.find("input.quantity").val())];(e=this.basket).addQuantity.apply(e,s)},removeOfBasket:function(t){this.basket.remove(parseInt(t.attr("data-id")))},removeAllQantity:function(t){this.basket.removeAllQuantity(parseInt(t.attr("data-id")))},clearBasket:function(){var t=this;if(this.basket.countGoods)var e=$("<div />",{text:"Вы действительно хитите очистить корзину?",css:{color:"red"}}).dialog({appendTo:"body",position:{my:"center",at:"center"},title:"Очистить корзину",resizable:!1,modal:!0,width:350,buttons:{"Очистить корзину":function(){t.basket.clear(),e.dialog("close")},Cancel:function(){e.dialog("close")}},close:function(){return e.remove()}})},droppInit:function(){var s=this;this.$ElemDropBasket=$("<div />",{id:"basket"}).appendTo($("body")).append($("<div />",{text:"Для добавления в корзину перетащите суда товар!",class:"dropp-basket-text"})),$(".product-item").draggable({helper:"clone",scope:"good",addClasses:!0,cursorAt:{left:50,top:50},cursor:"pointer",start:function(t,e){e.helper.addClass("ui-drag-activate_good"),s.$ElemDropBasket.addClass("basket-dropp",500)},stop:function(){s.$ElemDropBasket.removeClass("basket-dropp",500)}}),$("#basket").droppable({activeClass:"ui-drag-activate_basket",scope:"good",tolerance:"pointer",drop:function(t,e){s.goodAddToBasket(e.draggable),s.showDialog()}})},showDialog:function(){var t=$("<div />",{text:"Товар добавлен в корзину"}).dialog({appendTo:"body",hide:{effect:"scale",duration:500},position:{my:"center top",at:"center top+50px"},close:function(){return t.remove()}});setTimeout(function(){t.dialog("close")},1e3)}};$(document).ready(function(){return basketRun.init()});var Comment=function(){function n(t,e,s,a,i){_classCallCheck(this,n),this.text=s,this.id_comment=t,this.name=e,this.approved=Number.parseInt(a),this.settings=i,this.classContainer="comment-item",this.className="comment-item_name",this.classMessage="comment-item_message",this.classDelBtn="comment-item_del-btn",this.classApprovelBtn="comment-item_approve-btn"}return _createClass(n,[{key:"render",value:function(t){var e=$("<div />",{class:this.classContainer,"data-id":this.id_comment,"data-approved":!!this.approved}),s=$("<p />",{class:this.className,text:this.name}),a=$("<p />",{class:this.classMessage,text:this.text}),i=$("<button />",{class:this.classDelBtn,"data-id":this.id_comment,"data-type":"del",text:"Удалить"}),n=$("<button />",{class:this.classApprovelBtn,"data-id":this.id_comment,"data-type":"app",text:"Одобрить"});e.append(s).append(a).append(i).appendTo(t),this.approved?e.addClass(settings.classCommentApproved):e.append(n)}}]),n}(),settings={idContainer:"container",idCommentBlock:"comment_wrapper",classCommentApproved:"approved",urlGetAllComments:"handlerComments.php?type=get",urlDelComment:"handlerComments.php?type=remove",urlApprovalComment:"handlerComments.php?type=approved",urlAddComment:"handlerComments.php?type=add"},commentBlock={settings:settings,$elCommentBlock:null,arrAllComments:[],init:function(){var e=this;this.$elCommentBlock=$("#"+this.settings.idCommentBlock),$("#"+this.settings.idContainer).on("click","button",function(t){return e.btnClickHandler(t)}),this.ajax({url:this.settings.urlGetAllComments,data:"",success:function(t){t.result&&0===t.result?console.error("Ошибка! Ответ от сервера: "+t.error_message):(e.arrAllComments=t.comments,e.render())}})},render:function(){if(0<this.arrAllComments.length){var t=!0,e=!1,s=void 0;try{for(var a,i=this.arrAllComments[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var n=a.value;new Comment(n.id_comment,n.name,n.text,n.approved,settings).render(this.$elCommentBlock)}}catch(t){e=!0,s=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw s}}}},btnClickHandler:function(t){"del"===t.target.dataset.type?this.remove(t.target):"app"===t.target.dataset.type?this.approve(t.target):"add"===t.target.dataset.type&&(t.preventDefault(),this.add(t.target))},approve:function(i){var n=this;this.ajax({url:this.settings.urlApprovalComment,data:{id_comment:i.dataset.id},success:function(t){var e,s,a;s=i,a=n,(e=t).result&&1===e.result?($(s).parent(".comment-item").addClass(a.settings.classCommentApproved).attr("data-approved",!0),$(s).remove()):0===e.result&&alert("Сервер вернул ошибку: "+e.error_message)}})},remove:function(a){this.ajax({url:this.settings.urlDelComment,data:{id_comment:a.dataset.id},success:function(t){var e,s;s=a,(e=t).result&&1===e.result?$(s).parent(".comment-item").remove():0===e.result&&alert("Сервер вернул ошибку: "+e.error_message)}})},add:function(t){var i=this;if(validateForm){if(!validateForm.startValidate($(t).parents("form")))return;$(t).parents("form").find("."+validateForm.classValidateInput).removeClass(validateForm.classValidateInput)}var n=$(t).siblings("#nameUser"),r=$(t).siblings("#commentUser"),o=n.val(),l=r.val();if(o&&l){var e=Math.floor(100*Math.random()*o.length);this.ajax({url:this.settings.urlAddComment,data:{id_user:e,name:o,text:l},success:function(t){var e,s,a;e=t,s=i.$elCommentBlock,a=i.arrAllComments,e.result&&1===e.result?(new Comment(e.id,o,l).render(s),a.push({id_comment:e.id,name:o,text:l}),n.val(""),r.val("")):0===e.result&&alert("Сервер вернул ошибку: "+e.error_message)}})}},ajax:function(t){$.ajax({url:t.url,type:"POST",dataType:"json",data:t.data,success:t.success,error:function(t,e,s){return console.error(e,s)}})}},validateForm={idInputName:"nameUser",idInputPhone:"phone",idInputEmail:"email",idInputMessage:"commentUser",idBtnSubmit:"btnAddComment",classElemOutErr:"error-message",classNoValidateInput:"error-input",classValidateInput:"success-input",errorMessage:{nameUser:"Имя должно содержать только буквы",phone:'Телефон должен быть в формате "+7(000)000-0000"',email:"Не корректный email",commentUser:"Вы забыли написать комментарий"},regExpName:/^[a-zа-яё]{2,}$/i,regExpPhone:/^\+\d\(\d{3}\)\d{3}-\d{4}$/,regExpEmail:/^[a-z0-9-_.]+@[a-z]+.[a-z]{2,4}$/i,regExpMessage:/[\wа-яё]{3,}/,startValidate:function(t){var e=$(t).find("input, textarea"),s=!0,a=!0,i=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var l=r.value;if(l.id!==this.idBtnSubmit)this.validateInput(l)?this.outMessageFailValidate(l,!0):(this.outMessageFailValidate(l),s=!1)}}catch(t){i=!0,n=t}finally{try{!a&&o.return&&o.return()}finally{if(i)throw n}}return s},validateInput:function(t){switch(t.id){case this.idInputName:return this.regExpName.test(t.value.trim());case this.idInputPhone:return this.regExpPhone.test(t.value.trim());case this.idInputEmail:return this.regExpEmail.test(t.value.trim());case this.idInputMessage:return this.regExpMessage.test(t.value.trim())}},outMessageFailValidate:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],s=document.getElementById("error-"+t.id);e?(s&&s.parentElement.removeChild(s),t.classList.remove(this.classNoValidateInput),t.classList.add(this.classValidateInput),t.value=t.value.trim()):(s||((s=document.createElement("div")).id="error-"+t.id,s.classList.add(this.classElemOutErr),t.parentElement.insertBefore(s,t.nextElementSibling)),t.classList.remove(this.classValidateInput),t.classList.add(this.classNoValidateInput),s.innerText="- "+this.errorMessage[t.id],t.value="",$(t).effect("bounce"))}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2tldC9CYXNrZXQuanMiLCJiYXNrZXQvQmFza2V0SGVhZGVyLmpzIiwiYmFza2V0L0Jhc2tldFBhZ2UuanMiLCJiYXNrZXQvR29vZC5qcyIsImJhc2tldC9tYWluLWJhc2tldC5qcyIsImNvbW1lbnQvQ29tbWVudC5qcyIsImNvbW1lbnQvY29tbWVudEJsb2NrLmpzIiwiY29tbWVudC92YWxpZGF0ZUZvcm0uanMiXSwibmFtZXMiOlsiQmFza2V0IiwiYmFza2V0U2V0dGluZ3MiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwic2V0dGluZ3MiLCJjb3VudEdvb2RzIiwiYW1vdW50IiwiYmFza2V0SXRlbXMiLCIkcHJvZHVjdHNXcmFwIiwiJGVsZW1Db3VudGVyIiwiJCIsImlkQ291bnRHb29kcyIsIiRlbGVtVG90YWxQcmljZSIsIiRqUXVlcnlFbGVtZW50IiwiY2xhc3MiLCJiYXNrZXRIZWFkZXJTZXR0aW5ncyIsImNsYXNzV3JhcFByb2R1Y3RzIiwiY2xhc3NUb3RhbFZhbHVlIiwiJHByaWNlVG90YWxXcmFwIiwiY2xhc3NXcmFwUHJpY2VUb3RhbCIsImFwcGVuZCIsImNsYXNzVG90YWxEZXNjcmlwdGlvbiIsInRleHQiLCIkYnV0dG9uc1dyYXAiLCJjbGFzc1dyYXBCdXR0b24iLCJjbGFzc0J1dHRvbkNoZWNrb3V0IiwiY2xhc3NCdXR0b25Hb1RvQ2FydCIsImRhdGEtdHlwZSIsImdldEJhc2tldCIsImNhbGxiYWNrIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJwYXRoSnNvbkZpbGUiLCJjb250ZXh0Iiwic3VjY2VzcyIsImRhdGEiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsInVuZGVmaW5lZCIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiYmFza2V0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsIml0ZW0iLCJ2YWx1ZSIsInF1YW50aXR5IiwicHVzaCIsImVyciIsInJldHVybiIsInJlZnJlc2giLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJkYXRhVHlwZSIsImlkX3Byb2R1Y3QiLCJ0aXRsZSIsInByaWNlIiwic3JjIiwiYmFza2V0TmV3SXRlbSIsImluZCIsImZpbmRJbmRleCIsImVsZW0iLCJfdGhpcyIsImFkZFF0IiwiaWRQcm9kdWN0IiwiYXJySW5kIiwic3BsaWNlIiwiYWxsUXQiLCJjb3VudCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJzZXRDb3VudGVyQW5kVG90YWxQcmljZSIsIm9iamVjdEJhc2tldEhlYWRlciIsIm9iamVjdEJhc2tldFBhZ2UiLCJCYXNrZXRIZWFkZXIiLCJsaW5rQmFza2V0Iiwib2JqZWN0UnVuQmFza2V0IiwiX3RoaXMyIiwiJGVsZW1XcmFwSGVhZGVyQmFza2V0IiwiaWRXcmFwVG9wQmFza2V0Iiwib24iLCJldmVudCIsImJ0bkNsaWNrSGFuZGxlciIsImxlbmd0aCIsImVtcHR5IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiR29vZCIsInJlbmRlckZvckhlYWRlciIsIkJhc2tldFBhZ2UiLCJiYXNrZXRQYWdlU2V0dGluZ3MiLCIkd3JhcENhcnQiLCIkc3ViVG90YWwiLCIkZ3JhbmRUb3RhbCIsIl90aGlzMyIsImNsYXNzV3JhcENhcnQiLCJpZFNwYW5Gb3JTdWJUb3RhbCIsImlkU3BhbkZvckdyYW5kVG90YWwiLCJjbGFzc1dyYXBDb250ZW50IiwiaW5wdXRDaGFuZ2VIYW5kbGVyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMiLCJfZGlkSXRlcmF0b3JFcnJvcjMiLCJfaXRlcmF0b3JFcnJvcjMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwicmVuZGVyRm9yUGFnZSIsImlkIiwiYmFza2V0UnVuIiwiY2xhc3NXcmFwUHJvZHVjdEl0ZW1zIiwiY2xhc3NQcm9kdWN0SXRlbSIsImNsYXNzUHJvZHVjdFRpdGxlIiwiY2xhc3NQcm9kdWN0UHJpY2UiLCJjbGFzc1Byb2R1Y3RJbWFnZSIsIm5hbWVQYWdlU2hvcHBpbmdDYXJ0IiwiaWRUb3RhbFZhbHVlIiwiY2xhc3NTaG9wcGluZ0NhcnQiLCJjbGFzc1VuaXRlUHJpY2VGb3JDYXJ0IiwiY2xhc3NRdWFudGl0eUZvckNhcnRJbnB1dCIsImNsYXNzU3VidG90YWxGb3JDYXJ0IiwiaWRCdG5Gb3JDbGVhclNob3BwaW5nQ2FydCIsImlkQnRuRm9yQ29udGludWVTaG9wcGluZyIsImlkQnRuRm9yQ2hlY2tvdXQiLCIkRWxlbURyb3BCYXNrZXQiLCJpbml0IiwiX3RoaXM0IiwiJHdyYXBQcm9kdWN0Iiwic2hvd0RpYWxvZyIsImRyb3BwSW5pdCIsIiR0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiYXR0ciIsInJlbW92ZU9mQmFza2V0IiwicmVtb3ZlQWxsUWFudGl0eSIsImdvb2RBZGRUb0Jhc2tldCIsInBhcmVudHMiLCJjbGVhckJhc2tldCIsImdvb2RBZGRRdWFudGl0eSIsImxvY2F0aW9uIiwiaHJlZiIsIiRlbGVtIiwiX2Jhc2tldCIsInBhcmFtIiwicGFyc2VJbnQiLCJmaW5kIiwiYWRkIiwiYXBwbHkiLCJfYmFza2V0MiIsInZhbCIsImFkZFF1YW50aXR5IiwicmVtb3ZlIiwicmVtb3ZlQWxsUXVhbnRpdHkiLCJfdGhpczUiLCIkZGlhbG9nIiwiY3NzIiwiY29sb3IiLCJkaWFsb2ciLCJhcHBlbmRUbyIsInBvc2l0aW9uIiwibXkiLCJhdCIsInJlc2l6YWJsZSIsIm1vZGFsIiwid2lkdGgiLCJidXR0b25zIiwi0J7Rh9C40YHRgtC40YLRjCDQutC+0YDQt9C40L3RgyIsImNsZWFyIiwiQ2FuY2VsIiwiY2xvc2UiLCJfdGhpczYiLCJkcmFnZ2FibGUiLCJoZWxwZXIiLCJzY29wZSIsImFkZENsYXNzZXMiLCJjdXJzb3JBdCIsImxlZnQiLCJ0b3AiLCJjdXJzb3IiLCJzdGFydCIsInVpIiwic3RvcCIsImRyb3BwYWJsZSIsImFjdGl2ZUNsYXNzIiwidG9sZXJhbmNlIiwiZHJvcCIsImhpZGUiLCJlZmZlY3QiLCJkdXJhdGlvbiIsInNldFRpbWVvdXQiLCJkb2N1bWVudCIsInJlYWR5IiwiQ29tbWVudCIsImNvbW1lbnRJZCIsIm5hbWUiLCJtZXNzYWdlIiwiYXBwcm92ZWQiLCJpZF9jb21tZW50IiwiTnVtYmVyIiwiY2xhc3NDb250YWluZXIiLCJjbGFzc05hbWUiLCJjbGFzc01lc3NhZ2UiLCJjbGFzc0RlbEJ0biIsImNsYXNzQXBwcm92ZWxCdG4iLCIkY29udGFpbmVyQ29tbWVudCIsImRhdGEtaWQiLCJkYXRhLWFwcHJvdmVkIiwiJG5hbWVDb21tZW50IiwiJG1lc3NhZ2VDb21tZW50IiwiJGRlbEJ0bkNvbW1lbnQiLCIkYXBwcm92ZUJ0bkNvbW1lbnQiLCJjbGFzc0NvbW1lbnRBcHByb3ZlZCIsImlkQ29udGFpbmVyIiwiaWRDb21tZW50QmxvY2siLCJ1cmxHZXRBbGxDb21tZW50cyIsInVybERlbENvbW1lbnQiLCJ1cmxBcHByb3ZhbENvbW1lbnQiLCJ1cmxBZGRDb21tZW50IiwiY29tbWVudEJsb2NrIiwiJGVsQ29tbWVudEJsb2NrIiwiYXJyQWxsQ29tbWVudHMiLCJfdGhpczciLCJyZXN1bHQiLCJlcnJvcl9tZXNzYWdlIiwiY29tbWVudHMiLCJyZW5kZXIiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCIsIl9kaWRJdGVyYXRvckVycm9yNCIsIl9pdGVyYXRvckVycm9yNCIsIl9zdGVwNCIsIl9pdGVyYXRvcjQiLCJvYmoiLCJ0YXJnZXQiLCJkYXRhc2V0IiwiYXBwcm92ZSIsInByZXZlbnREZWZhdWx0IiwiX3RoaXM4IiwicGFyZW50IiwiYWxlcnQiLCJfdGhpczkiLCJ2YWxpZGF0ZUZvcm0iLCJzdGFydFZhbGlkYXRlIiwiY2xhc3NWYWxpZGF0ZUlucHV0IiwidXNlck5hbWVJbnB1dCIsInNpYmxpbmdzIiwidXNlck1lc3NhZ2VJbnB1dCIsInVzZXJOYW1lIiwidXNlck1lc3NhZ2UiLCJ1c2VySWQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJpZF91c2VyIiwiYXJyQ29tbWVudHMiLCJ0ZXh0U3RhdHVzIiwianFYSFIiLCJpZElucHV0TmFtZSIsImlkSW5wdXRQaG9uZSIsImlkSW5wdXRFbWFpbCIsImlkSW5wdXRNZXNzYWdlIiwiaWRCdG5TdWJtaXQiLCJjbGFzc0VsZW1PdXRFcnIiLCJjbGFzc05vVmFsaWRhdGVJbnB1dCIsImVycm9yTWVzc2FnZSIsIm5hbWVVc2VyIiwicGhvbmUiLCJlbWFpbCIsImNvbW1lbnRVc2VyIiwicmVnRXhwTmFtZSIsInJlZ0V4cFBob25lIiwicmVnRXhwRW1haWwiLCJyZWdFeHBNZXNzYWdlIiwiZm9ybSIsImFyciIsInZhbGlkIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUiLCJfZGlkSXRlcmF0b3JFcnJvcjUiLCJfaXRlcmF0b3JFcnJvcjUiLCJfc3RlcDUiLCJfaXRlcmF0b3I1IiwidmFsaWRhdGVJbnB1dCIsIm91dE1lc3NhZ2VGYWlsVmFsaWRhdGUiLCJ0ZXN0IiwidHJpbSIsInZhbGlkYXRlIiwiYXJndW1lbnRzIiwiZWxlbUVycm9yIiwiZ2V0RWxlbWVudEJ5SWQiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJjbGFzc0xpc3QiLCJjcmVhdGVFbGVtZW50IiwiaW5zZXJ0QmVmb3JlIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiaW5uZXJUZXh0Il0sIm1hcHBpbmdzIjoiaVlBR0FBLGtCQUNBLFNBQUFBLEVBQUFDLEdBQUFDLGdCQUFBQyxLQUFBSCxHQUNBRyxLQUFBQyxTQUFBSCxFQUVBRSxLQUFBRSxXQUFBLEVBQ0FGLEtBQUFHLE9BQUEsRUFDQUgsS0FBQUksWUFBQSxHQUNBSixLQUFBSyxjQUFBLEtBQ0FMLEtBQUFNLGFBQUFDLEVBQUFBLElBQUFULEVBQUFVLGNBQ0FSLEtBQUFTLGdCQUFBLHlEQU9BQyxHQUNBVixLQUFBSyxjQUFBRSxFQUFBLFVBQUEsQ0FDQUksTUFBQVgsS0FBQUMsU0FBQVcscUJBQUFDLG9CQUdBYixLQUFBUyxnQkFBQUYsRUFBQSxXQUFBLENBQ0FJ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USxLQUFBa1IsY0FBQVcsS0FBQTlOLEVBQUFqQixNQUFBZ1AsVUFpQkFGLHVCQWpGQSxTQWlGQTdOLEdBQUEsSUFBQWdPLEVBQUEsRUFBQUMsVUFBQTNNLGFBQUFoRCxJQUFBMlAsVUFBQSxJQUFBQSxVQUFBLEdBQ0FDLEVBQUFoRyxTQUFBaUcsZUFBQSxTQUFBbk8sRUFBQWdELElBQ0FnTCxHQWVBRSxHQUNBQSxFQUFBRSxjQUFBQyxZQUFBSCxHQUVBbE8sRUFBQXNPLFVBQUEzSSxPQUFBMUosS0FBQXlRLHNCQUNBMU0sRUFBQXNPLFVBQUFoSixJQUFBckosS0FBQXFQLG9CQUNBdEwsRUFBQWpCLE1BQUFpQixFQUFBakIsTUFBQWdQLFNBbkJBRyxLQUNBQSxFQUFBaEcsU0FBQXFHLGNBQUEsUUFDQXZMLEdBQUEsU0FBQWhELEVBQUFnRCxHQUNBa0wsRUFBQUksVUFBQWhKLElBQUFySixLQUFBd1EsaUJBQ0F6TSxFQUFBb08sY0FBQUksYUFBQU4sRUFBQWxPLEVBQUF5TyxxQkFFQXpPLEVBQUFzTyxVQUFBM0ksT0FBQTFKLEtBQUFxUCxvQkFDQXRMLEVBQUFzTyxVQUFBaEosSUFBQXJKLEtBQUF5USxzQkFDQXdCLEVBQUFRLFVBQUEsS0FBQXpTLEtBQUEwUSxhQUFBM00sRUFBQWdELElBQ0FoRCxFQUFBakIsTUFBQSxHQUVBdkMsRUFBQXdELEdBQUErSCxPQUFBIiwiZmlsZSI6Im1haW4tb3V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKlxyXG4gKi9cclxuY2xhc3MgQmFza2V0IHtcclxuICBjb25zdHJ1Y3RvcihiYXNrZXRTZXR0aW5ncykge1xyXG4gICAgdGhpcy5zZXR0aW5ncyA9IGJhc2tldFNldHRpbmdzO1xyXG5cclxuICAgIHRoaXMuY291bnRHb29kcyA9IDA7IC8v0J7QsdGJ0LXQtSDQutC+0Lst0LLQviDRgtC+0LLQsNGA0L7QsiDQsiDQutC+0YDQt9C40L3QtVxyXG4gICAgdGhpcy5hbW91bnQgPSAwOyAvL9Ce0LHRidCw0Y8g0YHRgtC+0LjQvNC+0YHRgtGMINGC0L7QstCw0YDQvtCyXHJcbiAgICB0aGlzLmJhc2tldEl0ZW1zID0gW107IC8v0JzQsNGB0YHQuNCyINC00LvRjyDRhdGA0LDQvdC10L3QuNGPINGC0L7QstCw0YDQvtCyXHJcbiAgICB0aGlzLiRwcm9kdWN0c1dyYXAgPSBudWxsO1xyXG4gICAgdGhpcy4kZWxlbUNvdW50ZXIgPSAkKGAjJHtiYXNrZXRTZXR0aW5ncy5pZENvdW50R29vZHN9YCk7XHJcbiAgICB0aGlzLiRlbGVtVG90YWxQcmljZSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqIEBwYXJhbSAkalF1ZXJ5RWxlbWVudFxyXG4gICAqL1xyXG4gIHJlbmRlcigkalF1ZXJ5RWxlbWVudCkge1xyXG4gICAgdGhpcy4kcHJvZHVjdHNXcmFwID0gJCgnPGRpdiAvPicsIHtcclxuICAgICAgY2xhc3M6IHRoaXMuc2V0dGluZ3MuYmFza2V0SGVhZGVyU2V0dGluZ3MuY2xhc3NXcmFwUHJvZHVjdHMsXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLiRlbGVtVG90YWxQcmljZSA9ICQoJzxzcGFuIC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5iYXNrZXRIZWFkZXJTZXR0aW5ncy5jbGFzc1RvdGFsVmFsdWVcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCAkcHJpY2VUb3RhbFdyYXAgPSAkKCc8ZGl2IC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5iYXNrZXRIZWFkZXJTZXR0aW5ncy5jbGFzc1dyYXBQcmljZVRvdGFsLFxyXG4gICAgfSkuYXBwZW5kKCQoJzxzcGFuIC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5iYXNrZXRIZWFkZXJTZXR0aW5ncy5jbGFzc1RvdGFsRGVzY3JpcHRpb24sXHJcbiAgICAgIHRleHQ6ICd0b3RhbCdcclxuICAgIH0pKS5hcHBlbmQodGhpcy4kZWxlbVRvdGFsUHJpY2UpO1xyXG5cclxuICAgIGxldCAkYnV0dG9uc1dyYXAgPSAkKCc8ZGl2IC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5iYXNrZXRIZWFkZXJTZXR0aW5ncy5jbGFzc1dyYXBCdXR0b24sXHJcbiAgICB9KS5hcHBlbmQoJCgnPGJ1dHRvbiAvPicsIHtcclxuICAgICAgY2xhc3M6IHRoaXMuc2V0dGluZ3MuYmFza2V0SGVhZGVyU2V0dGluZ3MuY2xhc3NCdXR0b25DaGVja291dCxcclxuICAgICAgdGV4dDogJ0NoZWNrb3V0J1xyXG4gICAgfSkpLmFwcGVuZCgkKCc8YnV0dG9uIC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5iYXNrZXRIZWFkZXJTZXR0aW5ncy5jbGFzc0J1dHRvbkdvVG9DYXJ0LFxyXG4gICAgICB0ZXh0OiAnR28gdG8gY2FydCcsXHJcbiAgICAgICdkYXRhLXR5cGUnOiAnc2hvcHBpbmctY2FydCdcclxuICAgIH0pKTtcclxuXHJcbiAgICAkalF1ZXJ5RWxlbWVudC5hcHBlbmQodGhpcy4kcHJvZHVjdHNXcmFwKVxyXG4gICAgICAuYXBwZW5kKCRwcmljZVRvdGFsV3JhcClcclxuICAgICAgLmFwcGVuZCgkYnV0dG9uc1dyYXApO1xyXG5cclxuXHJcbiAgICAvL9Cf0L7Qu9GD0YfQsNC10Lwg0YPQttC1INC00L7QsdCw0LLQu9C10L3QvdGL0LUg0LIg0LrQvtGA0LfQuNC90YMg0YLQvtCy0LDRgNGLXHJcbiAgICB0aGlzLmdldEJhc2tldCgpO1xyXG4gICAgLy8gJHByb2R1Y3RzV3JhcC5hcHBlbmQobmV3IEdvb2QoKS5yZW5kZXIoKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqL1xyXG4gIGdldEJhc2tldChjYWxsYmFjaykge1xyXG4gICAgLy9sZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgdXJsOiB0aGlzLnNldHRpbmdzLnBhdGhKc29uRmlsZSxcclxuICAgICAgY29udGV4dDogdGhpcyxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgdGhpcy5hbW91bnQgPSBkYXRhLmFtb3VudDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBkYXRhLmJhc2tldCkge1xyXG4gICAgICAgICAgdGhpcy5jb3VudEdvb2RzICs9IGl0ZW0ucXVhbnRpdHk7XHJcbiAgICAgICAgICB0aGlzLmJhc2tldEl0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgIH1cclxuICAgICAgLFxyXG4gICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC/0L7Qu9GD0YfQtdC90LjQuCDQtNCw0L3QvdGL0YUnLCBlcnJvcik7XHJcbiAgICAgIH0sXHJcbiAgICAgIGRhdGFUeXBlOiAnanNvbidcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKiBAcGFyYW0gaWRfcHJvZHVjdFxyXG4gICAqIEBwYXJhbSB0aXRsZVxyXG4gICAqIEBwYXJhbSBwcmljZVxyXG4gICAqIEBwYXJhbSBzcmNcclxuICAgKi9cclxuICBhZGQoaWRfcHJvZHVjdCwgdGl0bGUsIHByaWNlLCBzcmMpIHtcclxuXHJcbiAgICBsZXQgYmFza2V0TmV3SXRlbSA9IHtcclxuICAgICAgaWRfcHJvZHVjdCxcclxuICAgICAgcHJpY2UsIC8vcHJpY2U6IHByaWNlXHJcbiAgICAgIHRpdGxlLFxyXG4gICAgICBzcmMsXHJcbiAgICAgIHF1YW50aXR5OiAxXHJcbiAgICB9O1xyXG4gICAgbGV0IGluZCA9IHRoaXMuYmFza2V0SXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uIChlbGVtKSB7XHJcbiAgICAgIHJldHVybiAoZWxlbS5pZF9wcm9kdWN0ID09PSBpZF9wcm9kdWN0KTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGluZCA9PT0gLTEpIHtcclxuICAgICAgdGhpcy5iYXNrZXRJdGVtcy5wdXNoKGJhc2tldE5ld0l0ZW0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5iYXNrZXRJdGVtc1tpbmRdLnF1YW50aXR5Kys7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb3VudEdvb2RzKys7XHJcbiAgICB0aGlzLmFtb3VudCArPSBwcmljZTsgLy90aGlzLmFtb3VudCA9IHRoaXMuYW1vdW50ICsgcHJpY2U7XHJcblxyXG4gICAgdGhpcy5yZWZyZXNoKCk7IC8v0J/QtdGA0LXRgNC40YHQvtCy0YvQstCw0LXQvCDQutC+0YDQt9C40L3Rg1xyXG4gIH1cclxuXHJcbiAgYWRkUXVhbnRpdHkoaWRfcHJvZHVjdCwgcXVhbnRpdHkpIHtcclxuICAgIHRoaXMuYmFza2V0SXRlbXMuZmluZEluZGV4KChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChlbGVtLmlkX3Byb2R1Y3QgPT09IGlkX3Byb2R1Y3QpIHtcclxuICAgICAgICBsZXQgYWRkUXQgPSBxdWFudGl0eSAtIGVsZW0ucXVhbnRpdHk7XHJcbiAgICAgICAgZWxlbS5xdWFudGl0eSArPSBhZGRRdDtcclxuICAgICAgICB0aGlzLmNvdW50R29vZHMgKz0gYWRkUXQ7XHJcbiAgICAgICAgdGhpcy5hbW91bnQgKz0gZWxlbS5wcmljZSAqIGFkZFF0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnJlZnJlc2goKTsgLy/Qn9C10YDQtdGA0LjRgdC+0LLRi9Cy0LDQtdC8INC60L7RgNC30LjQvdGDXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGlkUHJvZHVjdFxyXG4gICAqL1xyXG4gIHJlbW92ZShpZFByb2R1Y3QpIHtcclxuICAgIGZvciAobGV0IGFyckluZCBpbiB0aGlzLmJhc2tldEl0ZW1zKSB7XHJcbiAgICAgIGlmICh0aGlzLmJhc2tldEl0ZW1zW2FyckluZF0uaWRfcHJvZHVjdCA9PT0gaWRQcm9kdWN0KSB7XHJcbiAgICAgICAgdGhpcy5hbW91bnQgLT0gdGhpcy5iYXNrZXRJdGVtc1thcnJJbmRdLnByaWNlO1xyXG4gICAgICAgIHRoaXMuY291bnRHb29kcy0tO1xyXG4gICAgICAgIGlmICh0aGlzLmJhc2tldEl0ZW1zW2FyckluZF0ucXVhbnRpdHkgPiAxKSB7XHJcbiAgICAgICAgICB0aGlzLmJhc2tldEl0ZW1zW2FyckluZF0ucXVhbnRpdHktLTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5iYXNrZXRJdGVtcy5zcGxpY2UoYXJySW5kLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZUFsbFF1YW50aXR5KGlkUHJvZHVjdCkge1xyXG4gICAgZm9yIChsZXQgYXJySW5kIGluIHRoaXMuYmFza2V0SXRlbXMpIHtcclxuICAgICAgaWYgKHRoaXMuYmFza2V0SXRlbXNbYXJySW5kXS5pZF9wcm9kdWN0ID09PSBpZFByb2R1Y3QpIHtcclxuICAgICAgICBsZXQgYWxsUXQgPSB0aGlzLmJhc2tldEl0ZW1zW2FyckluZF0ucXVhbnRpdHk7XHJcbiAgICAgICAgdGhpcy5hbW91bnQgLT0gdGhpcy5iYXNrZXRJdGVtc1thcnJJbmRdLnByaWNlICogYWxsUXQ7XHJcbiAgICAgICAgdGhpcy5jb3VudEdvb2RzIC09IGFsbFF0O1xyXG4gICAgICAgIHRoaXMuYmFza2V0SXRlbXMuc3BsaWNlKGFyckluZCwgMSk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy5jb3VudEdvb2RzID0gMDtcclxuICAgIHRoaXMuYW1vdW50ID0gMDtcclxuICAgIHRoaXMuYmFza2V0SXRlbXMgPSBbXTtcclxuICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKi9cclxuICBzZXRDb3VudGVyQW5kVG90YWxQcmljZSgpIHtcclxuICAgIGxldCBjb3VudCA9IHRoaXMuY291bnRHb29kcztcclxuICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgICAgdGhpcy4kZWxlbUNvdW50ZXIudGV4dChjb3VudClcclxuICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAvLyB0aGlzLiRlbGVtVG90YWxQcmljZS50ZXh0KCckJyArIHRoaXMuYW1vdW50KTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLiRlbGVtQ291bnRlci50ZXh0KCcnKVxyXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgIC8vIHRoaXMuJGVsZW1Ub3RhbFByaWNlLnRleHQoJyQnICsgdGhpcy5hbW91bnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKi9cclxuICByZWZyZXNoKCkge1xyXG4gICAgdGhpcy5zZXRDb3VudGVyQW5kVG90YWxQcmljZSgpO1xyXG4gICAgaWYgKHRoaXMuc2V0dGluZ3Mub2JqZWN0QmFza2V0SGVhZGVyKSB7XHJcbiAgICAgIHRoaXMuc2V0dGluZ3Mub2JqZWN0QmFza2V0SGVhZGVyLnJlZnJlc2goKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnNldHRpbmdzLm9iamVjdEJhc2tldFBhZ2UpIHtcclxuICAgICAgdGhpcy5zZXR0aW5ncy5vYmplY3RCYXNrZXRQYWdlLnJlZnJlc2goKTtcclxuICAgIH1cclxuICB9XHJcbn0iLCIvKipcclxuICpcclxuICovXHJcbmNsYXNzIEJhc2tldEhlYWRlciB7XHJcbiAgY29uc3RydWN0b3IoYmFza2V0KSB7XHJcbiAgICB0aGlzLmxpbmtCYXNrZXQgPSBiYXNrZXQ7XHJcbiAgICB0aGlzLnNldHRpbmdzID0gYmFza2V0LnNldHRpbmdzLmJhc2tldEhlYWRlclNldHRpbmdzO1xyXG4gICAgdGhpcy5vYmplY3RSdW5CYXNrZXQgPSBiYXNrZXQuc2V0dGluZ3Mub2JqZWN0UnVuQmFza2V0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKi9cclxuICBpbml0KCkge1xyXG4gICAgbGV0ICRlbGVtV3JhcEhlYWRlckJhc2tldCA9ICQoYCMke3RoaXMuc2V0dGluZ3MuaWRXcmFwVG9wQmFza2V0fWApO1xyXG4gICAgdGhpcy4kcHJvZHVjdHNXcmFwID0gJCgnPGRpdiAvPicsIHtcclxuICAgICAgY2xhc3M6IHRoaXMuc2V0dGluZ3MuY2xhc3NXcmFwUHJvZHVjdHMsXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLiRlbGVtVG90YWxQcmljZSA9ICQoJzxzcGFuIC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5jbGFzc1RvdGFsVmFsdWVcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCAkcHJpY2VUb3RhbFdyYXAgPSAkKCc8ZGl2IC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5jbGFzc1dyYXBQcmljZVRvdGFsLFxyXG4gICAgfSkuYXBwZW5kKCQoJzxzcGFuIC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5jbGFzc1RvdGFsRGVzY3JpcHRpb24sXHJcbiAgICAgIHRleHQ6ICd0b3RhbCdcclxuICAgIH0pKS5hcHBlbmQodGhpcy4kZWxlbVRvdGFsUHJpY2UpO1xyXG5cclxuICAgIGxldCAkYnV0dG9uc1dyYXAgPSAkKCc8ZGl2IC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5jbGFzc1dyYXBCdXR0b24sXHJcbiAgICB9KS5hcHBlbmQoJCgnPGJ1dHRvbiAvPicsIHtcclxuICAgICAgY2xhc3M6IHRoaXMuc2V0dGluZ3MuY2xhc3NCdXR0b25DaGVja291dCxcclxuICAgICAgdGV4dDogJ0NoZWNrb3V0J1xyXG4gICAgfSkpLmFwcGVuZCgkKCc8YnV0dG9uIC8+Jywge1xyXG4gICAgICBjbGFzczogdGhpcy5zZXR0aW5ncy5jbGFzc0J1dHRvbkdvVG9DYXJ0LFxyXG4gICAgICB0ZXh0OiAnR28gdG8gY2FydCcsXHJcbiAgICAgICdkYXRhLXR5cGUnOiAnc2hvcHBpbmctY2FydCdcclxuICAgIH0pKTtcclxuXHJcbiAgICAkZWxlbVdyYXBIZWFkZXJCYXNrZXQuYXBwZW5kKHRoaXMuJHByb2R1Y3RzV3JhcClcclxuICAgICAgLmFwcGVuZCgkcHJpY2VUb3RhbFdyYXApXHJcbiAgICAgIC5hcHBlbmQoJGJ1dHRvbnNXcmFwKVxyXG4gICAgICAub24oJ2NsaWNrJywgJ2J1dHRvbicsIGV2ZW50ID0+IHRoaXMuYnRuQ2xpY2tIYW5kbGVyKGV2ZW50KSk7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGV2ZW50XHJcbiAgICovXHJcbiAgYnRuQ2xpY2tIYW5kbGVyKGV2ZW50KSB7XHJcbiAgICB0aGlzLm9iamVjdFJ1bkJhc2tldC5idG5DbGlja0hhbmRsZXIoZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKi9cclxuICByZWZyZXNoKCkge1xyXG4gICAgdGhpcy4kZWxlbVRvdGFsUHJpY2UudGV4dCgnJCcgKyB0aGlzLmxpbmtCYXNrZXQuYW1vdW50KTtcclxuICAgIGlmICh0aGlzLmxpbmtCYXNrZXQuYmFza2V0SXRlbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuJHByb2R1Y3RzV3JhcC5lbXB0eSgpXHJcbiAgICAgICAgLnRleHQoJ9Ci0L7QstCw0YDQvtCyINCyINC60LDRgNC30LjQvdC1INC90LXRgiEnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuJHByb2R1Y3RzV3JhcC5lbXB0eSgpO1xyXG4gICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMubGlua0Jhc2tldC5iYXNrZXRJdGVtcykge1xyXG4gICAgICAgIHRoaXMuJHByb2R1Y3RzV3JhcC5hcHBlbmQoXHJcbiAgICAgICAgICBuZXcgR29vZChpdGVtLmlkX3Byb2R1Y3QsIGl0ZW0udGl0bGUsIGl0ZW0ucHJpY2UsIGl0ZW0uc3JjLCBpdGVtLnF1YW50aXR5KS5yZW5kZXJGb3JIZWFkZXIoKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0iLCJjbGFzcyBCYXNrZXRQYWdlIHtcclxuICBjb25zdHJ1Y3RvcihiYXNrZXQpIHtcclxuICAgIHRoaXMubGlua0Jhc2tldCA9IGJhc2tldDtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBiYXNrZXQuc2V0dGluZ3MuYmFza2V0UGFnZVNldHRpbmdzO1xyXG4gICAgdGhpcy5vYmplY3RSdW5CYXNrZXQgPSBiYXNrZXQuc2V0dGluZ3Mub2JqZWN0UnVuQmFza2V0O1xyXG4gICAgdGhpcy5vYmplY3RSdW5CYXNrZXQgPSBiYXNrZXQuc2V0dGluZ3Mub2JqZWN0UnVuQmFza2V0O1xyXG4gICAgdGhpcy4kd3JhcENhcnQgPSBudWxsO1xyXG4gICAgLy8gdGhpcy53cmFwQ29udGVudCA9IG51bGw7XHJcbiAgICB0aGlzLiRzdWJUb3RhbCA9IG51bGw7XHJcbiAgICB0aGlzLiRncmFuZFRvdGFsID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLiR3cmFwQ2FydCA9ICQoYC4ke3RoaXMuc2V0dGluZ3MuY2xhc3NXcmFwQ2FydH1gKTtcclxuICAgIC8vIHRoaXMud3JhcENvbnRlbnQgPSAkKGAuJHt0aGlzLnNldHRpbmdzLmNsYXNzV3JhcENvbnRlbnR9YCk7XHJcbiAgICB0aGlzLiRzdWJUb3RhbCA9ICQoYCMke3RoaXMuc2V0dGluZ3MuaWRTcGFuRm9yU3ViVG90YWx9YCk7XHJcbiAgICB0aGlzLiRncmFuZFRvdGFsID0gJChgIyR7dGhpcy5zZXR0aW5ncy5pZFNwYW5Gb3JHcmFuZFRvdGFsfWApO1xyXG4gICAgJChgLiR7dGhpcy5zZXR0aW5ncy5jbGFzc1dyYXBDb250ZW50fWApXHJcbiAgICAgIC5vbignY2xpY2snLCAnYnV0dG9uJywgZXZlbnQgPT4gdGhpcy5idG5DbGlja0hhbmRsZXIoZXZlbnQpKTtcclxuICAgIHRoaXMuJHdyYXBDYXJ0XHJcbiAgICAgIC5vbignY2hhbmdlJywgJ2lucHV0JywgZXZlbnQgPT4gdGhpcy5pbnB1dENoYW5nZUhhbmRsZXIoZXZlbnQpKTtcclxuICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgYnRuQ2xpY2tIYW5kbGVyKGV2ZW50KSB7XHJcbiAgICB0aGlzLm9iamVjdFJ1bkJhc2tldC5idG5DbGlja0hhbmRsZXIoZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgaW5wdXRDaGFuZ2VIYW5kbGVyKGV2ZW50KXtcclxuICAgIHRoaXMub2JqZWN0UnVuQmFza2V0LmJ0bkNsaWNrSGFuZGxlcihldmVudCk7XHJcbiAgfVxyXG5cclxuICByZWZyZXNoKCkge1xyXG4gICAgdGhpcy4kc3ViVG90YWwudGV4dCgnJCcgKyB0aGlzLmxpbmtCYXNrZXQuYW1vdW50KTtcclxuICAgIHRoaXMuJGdyYW5kVG90YWwudGV4dCgnJCcgKyB0aGlzLmxpbmtCYXNrZXQuYW1vdW50KTtcclxuICAgIGlmICh0aGlzLmxpbmtCYXNrZXQuYmFza2V0SXRlbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuJHdyYXBDYXJ0LmVtcHR5KClcclxuICAgICAgICAuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc1dyYXBDYXJ0ICsgJ19lbXB0eScpXHJcbiAgICAgICAgLnRleHQoJ9Ci0L7QstCw0YDQvtCyINCyINC60LDRgNC30LjQvdC1INC90LXRgiEnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuJHdyYXBDYXJ0LmVtcHR5KCk7XHJcbiAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5saW5rQmFza2V0LmJhc2tldEl0ZW1zKSB7XHJcbiAgICAgICAgdGhpcy4kd3JhcENhcnQuYXBwZW5kKFxyXG4gICAgICAgICAgbmV3IEdvb2QoaXRlbS5pZF9wcm9kdWN0LCBpdGVtLnRpdGxlLCBpdGVtLnByaWNlLCBpdGVtLnNyYywgaXRlbS5xdWFudGl0eSkucmVuZGVyRm9yUGFnZSgpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufSIsImNsYXNzIEdvb2Qge1xyXG4gIGNvbnN0cnVjdG9yKGlkLCB0aXRsZSwgcHJpY2UsIHNyYywgcXVhbnRpdHkpIHtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgIHRoaXMucHJpY2UgPSBwcmljZTtcclxuICAgIHRoaXMuc3JjID0gc3JjO1xyXG4gICAgdGhpcy5xdWFudGl0eSA9IHF1YW50aXR5O1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyRm9ySGVhZGVyKCkge1xyXG4gICAgcmV0dXJuICQoYDxkaXYgY2xhc3M9XCJhY2NfX2NhcnRfX3Byb2R1Y3RcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWNjX19jYXJ0X19wcm9kdWN0X19pbWdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHt0aGlzLnNyY31cIiB3aWR0aD1cIjcyXCIgaGVpZ2h0PVwiODVcIiBhbHQ9XCJSZWJveCBaYW5lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjY19fY2FydF9fcHJvZHVjdF9fZGF0YVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9kdWN0X19kYXRhX2hlYWRcIj4ke3RoaXMudGl0bGV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9kdWN0X19kYXRhX3F1YWxpdHlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1zdGFyXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLXN0YXJcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtc3RhclwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1zdGFyXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLXN0YXIgcXVhbGl0eS13aGl0ZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9kdWN0X19kYXRhX2NhbGN1bGF0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvZHVjdF9fZGF0YV9udW1iZXJcIj4ke3RoaXMucXVhbnRpdHl9PC9zcGFuPiB4IDxzcGFuIGNsYXNzPVwicHJvZHVjdF9fZGF0YV9wcmljZVwiPiQke3RoaXMucHJpY2V9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjY19fY2FydF9fcHJvZHVjdF9fZGVsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtdHlwZT1cImRlbFwiIGRhdGEtaWQ9XCIke3RoaXMuaWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+YCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcmVuZGVyRm9yUGFnZSgpIHtcclxuICAgIHJldHVybiAkKGA8ZGl2IGNsYXNzPVwic2hvcHBpbmctY2FydFwiIGRhdGEtaWQ9XCIke3RoaXMuaWR9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hvcHBpbmctY2FydF9fcHJvZHVjdC1kZXRhaWxzIHNob3BwaW5nLWNhcnRfX2NvbHVtbi1maXJzdFwiPlxyXG4gICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHt0aGlzLnNyY31cIiB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjExNVwiIGFsdD1cIk1hbmdvIFBlb3BsZSBULXNoaXJ0XCI+XHJcbiAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2R1Y3QtZGV0YWlsc19fZGVzY3JpcHRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiPiR7dGhpcy50aXRsZX08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb24tcm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwib3B0aW9uLXJvd19fb3B0aW9uXCI+Q29sb3I6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm9wdGlvbi1yb3dfX3ZhbHVlXCI+UmVkPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uLXJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm9wdGlvbi1yb3dfX29wdGlvblwiPlNpemU6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm9wdGlvbi1yb3dfX3ZhbHVlXCI+WGxsPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hvcHBpbmctY2FydF9fdW5pdGUtcHJpY2Ugc2hvcHBpbmctY2FydF9fY29sdW1uLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInVuaXRlLXByaWNlXCI+JCR7dGhpcy5wcmljZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaG9wcGluZy1jYXJ0X19xdWFudGl0eSBzaG9wcGluZy1jYXJ0X19jb2x1bW4tY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0aXRsZT1cInF1YW50aXR5XCIgdHlwZT1cInRleHRcIiBjbGFzcz1cInF1YW50aXR5XCIgZGF0YS10eXBlPVwicXVhbnRpdHlcIiB2YWx1ZT1cIiR7dGhpcy5xdWFudGl0eX1cIiByZXF1aXJlZD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNob3BwaW5nLWNhcnRfX3NoaXBwaW5nIHNob3BwaW5nLWNhcnRfX2NvbHVtbi1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzaGlwcGluZ1wiPmZyZWU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaG9wcGluZy1jYXJ0X19zdWJ0b3RhbCBzaG9wcGluZy1jYXJ0X19jb2x1bW4tY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3VidG90YWxcIj4kJHt0aGlzLnF1YW50aXR5ICogdGhpcy5wcmljZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaG9wcGluZy1jYXJ0X19hY3Rpb24gc2hvcHBpbmctY2FydF9fY29sdW1uLWxhc3RcIj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWlkPVwiJHt0aGlzLmlkfVwiIGRhdGEtdHlwZT1cImRlbEFsbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+YCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuIiwiLyoqXHJcbiAqXHJcbiAqXHJcbiAqL1xyXG5jb25zdCBiYXNrZXRSdW4gPSB7XHJcbiAgc2V0dGluZ3M6IHtcclxuICAgIGNsYXNzV3JhcFByb2R1Y3RJdGVtczogJ3dyYXAtcHJvZHVjdC1pdGVtJyxcclxuICAgIGNsYXNzUHJvZHVjdEl0ZW06ICdwcm9kdWN0LWl0ZW0nLFxyXG4gICAgY2xhc3NQcm9kdWN0VGl0bGU6ICd0aXRsZS1pdGVtJyxcclxuICAgIGNsYXNzUHJvZHVjdFByaWNlOiAncHJpY2UtdmFsJyxcclxuICAgIGNsYXNzUHJvZHVjdEltYWdlOiAncHJvZHVjdC1pbWcnLFxyXG4gICAgbmFtZVBhZ2VTaG9wcGluZ0NhcnQ6ICdzaG9wcGluZy1jYXJ0JyxcclxuICAgIGJhc2tldFNldHRpbmdzOiB7XHJcbiAgICAgIHBhdGhKc29uRmlsZTogJy4vanNvbi9iYXNrZXRfZ2V0Lmpzb24nLFxyXG4gICAgICBpZENvdW50R29vZHM6ICdjb3VudC1nb29kcycsXHJcbiAgICAgIG9iamVjdFJ1bkJhc2tldDogbnVsbCxcclxuICAgICAgb2JqZWN0QmFza2V0SGVhZGVyOiBudWxsLFxyXG4gICAgICBvYmplY3RCYXNrZXRQYWdlOiBudWxsLFxyXG4gICAgICBiYXNrZXRIZWFkZXJTZXR0aW5nczoge1xyXG4gICAgICAgIGlkV3JhcFRvcEJhc2tldDogJ3dyYXAtdG9wLWJhc2tldCcsXHJcbiAgICAgICAgY2xhc3NXcmFwUHJvZHVjdHM6ICdhY2NfX2NhcnRfX3Byb2R1Y3RzLXdyYXAnLFxyXG4gICAgICAgIGNsYXNzV3JhcFByaWNlVG90YWw6ICdhY2NfX2NhcnRfX3ByaWNlLXRvdGFsJyxcclxuICAgICAgICBjbGFzc1dyYXBCdXR0b246ICdhY2NfX2NhcnRfX2J1dHRvbnMnLFxyXG4gICAgICAgIGNsYXNzVG90YWxEZXNjcmlwdGlvbjogJ3ByaWNlLXRvdGFsX2Rlc2NyaXB0aW9uJyxcclxuICAgICAgICBjbGFzc1RvdGFsVmFsdWU6ICdwcmljZS10b3RhbF92YWx1ZScsXHJcbiAgICAgICAgaWRUb3RhbFZhbHVlOiAndG90YWwtdG9wLWJhc2tldCcsXHJcbiAgICAgICAgY2xhc3NCdXR0b25DaGVja291dDogJ2J1dHRvbnNfY2hlY2tvdXQnLFxyXG4gICAgICAgIGNsYXNzQnV0dG9uR29Ub0NhcnQ6ICdidXR0b25zX2dvLXRvLWNhcnQnLFxyXG4gICAgICAgICRlbGVtV3JhcEhlYWRlckJhc2tldDogbnVsbCxcclxuICAgICAgfSxcclxuICAgICAgYmFza2V0UGFnZVNldHRpbmdzOiB7XHJcbiAgICAgICAgY2xhc3NXcmFwQ29udGVudDogJ3dyYXAtY29udGVudCcsXHJcbiAgICAgICAgY2xhc3NXcmFwQ2FydDogJ3dyYXAtY2FydCcsXHJcbiAgICAgICAgY2xhc3NTaG9wcGluZ0NhcnQ6ICdzaG9wcGluZy1jYXJ0JyxcclxuICAgICAgICBjbGFzc1VuaXRlUHJpY2VGb3JDYXJ0OiAndW5pdGUtcHJpY2UnLFxyXG4gICAgICAgIGNsYXNzUXVhbnRpdHlGb3JDYXJ0SW5wdXQ6ICdxdWFudGl0eScsXHJcbiAgICAgICAgY2xhc3NTdWJ0b3RhbEZvckNhcnQ6ICdzdWJ0b3RhbCcsXHJcbiAgICAgICAgaWRCdG5Gb3JDbGVhclNob3BwaW5nQ2FydDogJ2NsZWFyU2hvcHBpbmdDYXJ0JyxcclxuICAgICAgICBpZEJ0bkZvckNvbnRpbnVlU2hvcHBpbmc6ICdjb250aW51ZVNob3BwaW5nJyxcclxuICAgICAgICBpZFNwYW5Gb3JTdWJUb3RhbDogJ3N1YlRvdGFsJyxcclxuICAgICAgICBpZFNwYW5Gb3JHcmFuZFRvdGFsOiAnZ3JhbmRUb3RhbCcsXHJcbiAgICAgICAgaWRCdG5Gb3JDaGVja291dDogJ3Byb2NlZWRUb0NoZWNrb3V0JywgLypcclxuICAgICAgICBkYXRhVHlwZUJ0bkNoZWNrb3V0OiAnY2hlY2tvdXQnLFxyXG4gICAgICAgIGRhdGFUeXBlQnRuQ2xlYXI6ICdjbGVhcicsXHJcbiAgICAgICAgZGF0YVR5cGVCdG5Db250aW51ZTogJ2NvbnRpbnVlJywqL1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgJEVsZW1Ecm9wQmFza2V0OiBudWxsLFxyXG4gIGJhc2tldDogbnVsbCxcclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKi9cclxuICBpbml0KCkge1xyXG5cclxuICAgIHRoaXMuc2V0dGluZ3MuYmFza2V0U2V0dGluZ3Mub2JqZWN0UnVuQmFza2V0ID0gdGhpcztcclxuICAgIHRoaXMuYmFza2V0ID0gbmV3IEJhc2tldCh0aGlzLnNldHRpbmdzLmJhc2tldFNldHRpbmdzKTtcclxuICAgIHRoaXMuYmFza2V0LmdldEJhc2tldChcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgICh0aGlzLnNldHRpbmdzLmJhc2tldFNldHRpbmdzLm9iamVjdEJhc2tldEhlYWRlciA9IG5ldyBCYXNrZXRIZWFkZXIodGhpcy5iYXNrZXQpKS5pbml0KCk7XHJcbiAgICAgICAgKHRoaXMuc2V0dGluZ3MuYmFza2V0U2V0dGluZ3Mub2JqZWN0QmFza2V0UGFnZSA9IG5ldyBCYXNrZXRQYWdlKHRoaXMuYmFza2V0KSkuaW5pdCgpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIGxldCAkd3JhcFByb2R1Y3QgPSAkKGAuJHt0aGlzLnNldHRpbmdzLmNsYXNzV3JhcFByb2R1Y3RJdGVtc31gKTtcclxuICAgIGlmICghJHdyYXBQcm9kdWN0Lmxlbmd0aCA+IDApIHJldHVybjtcclxuICAgICR3cmFwUHJvZHVjdC5vbignY2xpY2snLCAnYnV0dG9uW2RhdGEtdHlwZSA9IGFkZF0nLCAoZXZlbnQpID0+IHtcclxuICAgICAgdGhpcy5idG5DbGlja0hhbmRsZXIoZXZlbnQpO1xyXG4gICAgICB0aGlzLnNob3dEaWFsb2coKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5kcm9wcEluaXQoKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqIEBwYXJhbSBldmVudFxyXG4gICAqL1xyXG4gIGJ0bkNsaWNrSGFuZGxlcihldmVudCkge1xyXG4gICAgbGV0ICR0YXJnZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgc3dpdGNoICgkdGFyZ2V0LmF0dHIoJ2RhdGEtdHlwZScpKSB7XHJcbiAgICAgIGNhc2UgJ2RlbCc6XHJcbiAgICAgICAgdGhpcy5yZW1vdmVPZkJhc2tldCgkdGFyZ2V0KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2RlbEFsbCc6XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxRYW50aXR5KCR0YXJnZXQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnYWRkJzpcclxuICAgICAgICB0aGlzLmdvb2RBZGRUb0Jhc2tldCgkdGFyZ2V0LnBhcmVudHMoYC4ke3RoaXMuc2V0dGluZ3MuY2xhc3NQcm9kdWN0SXRlbX1gKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdjbGVhcic6XHJcbiAgICAgICAgdGhpcy5jbGVhckJhc2tldCgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAncXVhbnRpdHknOlxyXG4gICAgICAgIHRoaXMuZ29vZEFkZFF1YW50aXR5KCR0YXJnZXQucGFyZW50cyhgLiR7dGhpcy5zZXR0aW5ncy5iYXNrZXRTZXR0aW5ncy5iYXNrZXRQYWdlU2V0dGluZ3MuY2xhc3NTaG9wcGluZ0NhcnR9YCkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnY29udGludWUnOlxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnY2hlY2tvdXQnOlxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSB0aGlzLnNldHRpbmdzLm5hbWVQYWdlU2hvcHBpbmdDYXJ0OlxyXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSB0aGlzLnNldHRpbmdzLm5hbWVQYWdlU2hvcHBpbmdDYXJ0ICsgJy5waHAnO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQHBhcmFtICRlbGVtXHJcbiAgICovXHJcbiAgZ29vZEFkZFRvQmFza2V0KCRlbGVtKSB7XHJcbiAgICBsZXQgcGFyYW0gPSBbXHJcbiAgICAgIHBhcnNlSW50KCRlbGVtLmF0dHIoJ2RhdGEtaWQnKSksXHJcbiAgICAgICRlbGVtLmZpbmQoYC4ke3RoaXMuc2V0dGluZ3MuY2xhc3NQcm9kdWN0VGl0bGV9YCkudGV4dCgpLFxyXG4gICAgICBwYXJzZUludCgkZWxlbS5maW5kKGAuJHt0aGlzLnNldHRpbmdzLmNsYXNzUHJvZHVjdFByaWNlfWApLnRleHQoKSksXHJcbiAgICAgICRlbGVtLmZpbmQoYC4ke3RoaXMuc2V0dGluZ3MuY2xhc3NQcm9kdWN0SW1hZ2V9YCkuYXR0cignc3JjJylcclxuICAgIF07XHJcbiAgICB0aGlzLmJhc2tldC5hZGQoLi4ucGFyYW0pO1xyXG4gIH0sXHJcblxyXG4gIGdvb2RBZGRRdWFudGl0eSgkZWxlbSkge1xyXG4gICAgbGV0IHBhcmFtID0gW1xyXG4gICAgICBwYXJzZUludCgkZWxlbS5hdHRyKCdkYXRhLWlkJykpLFxyXG4gICAgICBwYXJzZUludCgkZWxlbS5maW5kKGBpbnB1dC5xdWFudGl0eWApLnZhbCgpKSxcclxuICAgIF07XHJcbiAgICB0aGlzLmJhc2tldC5hZGRRdWFudGl0eSguLi5wYXJhbSk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKiBAcGFyYW0gJGVsZW1cclxuICAgKi9cclxuICByZW1vdmVPZkJhc2tldCgkZWxlbSkge1xyXG4gICAgdGhpcy5iYXNrZXQucmVtb3ZlKHBhcnNlSW50KCRlbGVtLmF0dHIoJ2RhdGEtaWQnKSkpO1xyXG4gIH0sXHJcblxyXG4gIHJlbW92ZUFsbFFhbnRpdHkoJGVsZW0pIHtcclxuICAgIHRoaXMuYmFza2V0LnJlbW92ZUFsbFF1YW50aXR5KHBhcnNlSW50KCRlbGVtLmF0dHIoJ2RhdGEtaWQnKSkpO1xyXG4gIH0sXHJcblxyXG4gIGNsZWFyQmFza2V0KCkge1xyXG4gICAgaWYgKHRoaXMuYmFza2V0LmNvdW50R29vZHMpIHtcclxuICAgICAgbGV0ICRkaWFsb2cgPSAkKCc8ZGl2IC8+Jywge1xyXG4gICAgICAgIHRleHQ6ICfQktGLINC00LXQudGB0YLQstC40YLQtdC70YzQvdC+INGF0LjRgtC40YLQtSDQvtGH0LjRgdGC0LjRgtGMINC60L7RgNC30LjQvdGDPycsXHJcbiAgICAgICAgY3NzOiB7J2NvbG9yJzogJ3JlZCd9LFxyXG4gICAgICB9KS5kaWFsb2coe1xyXG4gICAgICAgIGFwcGVuZFRvOiBcImJvZHlcIixcclxuICAgICAgICBwb3NpdGlvbjoge215OiBcImNlbnRlclwiLCBhdDogXCJjZW50ZXJcIn0sXHJcbiAgICAgICAgdGl0bGU6ICfQntGH0LjRgdGC0LjRgtGMINC60L7RgNC30LjQvdGDJyxcclxuICAgICAgICByZXNpemFibGU6IGZhbHNlLFxyXG4gICAgICAgIG1vZGFsOiB0cnVlLFxyXG4gICAgICAgIHdpZHRoOiAzNTAsXHJcbiAgICAgICAgYnV0dG9uczoge1xyXG4gICAgICAgICAgXCLQntGH0LjRgdGC0LjRgtGMINC60L7RgNC30LjQvdGDXCI6ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5iYXNrZXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgJGRpYWxvZy5kaWFsb2coXCJjbG9zZVwiKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBDYW5jZWw6ICgpID0+IHtcclxuICAgICAgICAgICAgJGRpYWxvZy5kaWFsb2coXCJjbG9zZVwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNsb3NlOiAoKSA9PiAkZGlhbG9nLnJlbW92ZSgpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIHRoaXMuYmFza2V0LmNsZWFyKCk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKi9cclxuICBkcm9wcEluaXQoKSB7XHJcbiAgICB0aGlzLiRFbGVtRHJvcEJhc2tldCA9ICQoJzxkaXYgLz4nLCB7XHJcbiAgICAgIGlkOiAnYmFza2V0JyxcclxuICAgIH0pLmFwcGVuZFRvKCQoJ2JvZHknKSlcclxuICAgICAgLmFwcGVuZCgkKCc8ZGl2IC8+Jywge1xyXG4gICAgICAgIHRleHQ6ICfQlNC70Y8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LIg0LrQvtGA0LfQuNC90YMg0L/QtdGA0LXRgtCw0YnQuNGC0LUg0YHRg9C00LAg0YLQvtCy0LDRgCEnLFxyXG4gICAgICAgIGNsYXNzOiAnZHJvcHAtYmFza2V0LXRleHQnXHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICAvL9CU0L7QsdCw0LLQu9C10L3QuNC1INGC0L7QstCw0YDQsCDQsiDQutCw0YDQt9C40L3RgyDQv9C10YDQtdGC0LDRgdC60LjQstCw0L3QuNC10LxcclxuICAgICQoJy5wcm9kdWN0LWl0ZW0nKS5kcmFnZ2FibGUoe1xyXG4gICAgICBoZWxwZXI6ICdjbG9uZScsXHJcbiAgICAgIHNjb3BlOiAnZ29vZCcsXHJcbiAgICAgIGFkZENsYXNzZXM6IHRydWUsXHJcbiAgICAgIGN1cnNvckF0OiB7bGVmdDogNTAsIHRvcDogNTB9LFxyXG4gICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gICAgICBzdGFydDogKGV2ZW50LCB1aSkgPT4ge1xyXG4gICAgICAgIHVpLmhlbHBlci5hZGRDbGFzcygndWktZHJhZy1hY3RpdmF0ZV9nb29kJyk7XHJcbiAgICAgICAgdGhpcy4kRWxlbURyb3BCYXNrZXQuYWRkQ2xhc3MoJ2Jhc2tldC1kcm9wcCcsIDUwMCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHN0b3A6ICgpID0+IHtcclxuICAgICAgICB0aGlzLiRFbGVtRHJvcEJhc2tldC5yZW1vdmVDbGFzcygnYmFza2V0LWRyb3BwJywgNTAwKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI2Jhc2tldCcpLmRyb3BwYWJsZSh7XHJcbiAgICAgIGFjdGl2ZUNsYXNzOiAndWktZHJhZy1hY3RpdmF0ZV9iYXNrZXQnLFxyXG4gICAgICBzY29wZTogJ2dvb2QnLFxyXG4gICAgICB0b2xlcmFuY2U6IFwicG9pbnRlclwiLFxyXG4gICAgICBkcm9wOiAoZXZlbnQsIHVpKSA9PiB7XHJcbiAgICAgICAgdGhpcy5nb29kQWRkVG9CYXNrZXQodWkuZHJhZ2dhYmxlKTtcclxuICAgICAgICB0aGlzLnNob3dEaWFsb2coKTtcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICovXHJcbiAgc2hvd0RpYWxvZygpIHtcclxuICAgIGxldCAkZGlhbG9nID0gJCgnPGRpdiAvPicsIHtcclxuICAgICAgdGV4dDogJ9Ci0L7QstCw0YAg0LTQvtCx0LDQstC70LXQvSDQsiDQutC+0YDQt9C40L3RgydcclxuICAgIH0pLmRpYWxvZyh7XHJcbiAgICAgIGFwcGVuZFRvOiBcImJvZHlcIixcclxuICAgICAgaGlkZToge2VmZmVjdDogXCJzY2FsZVwiLCBkdXJhdGlvbjogNTAwfSxcclxuICAgICAgcG9zaXRpb246IHtteTogXCJjZW50ZXIgdG9wXCIsIGF0OiBcImNlbnRlciB0b3ArNTBweFwifSxcclxuICAgICAgY2xvc2U6ICgpID0+ICRkaWFsb2cucmVtb3ZlKCksXHJcbiAgICB9KTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAkZGlhbG9nLmRpYWxvZygnY2xvc2UnKTtcclxuICAgIH0sIDEwMDApO1xyXG4gIH0sXHJcbn07XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeSgoKSA9PiBiYXNrZXRSdW4uaW5pdCgpKTsiLCIvKipcbiAqINCa0LvQsNGB0YEg0YDQtdCw0LvQuNC30YPQtdGCINCx0LvQvtC6INC60L7QvNC80LXQvdGC0LDRgNC40Y8g0Lgg0LLRi9Cy0L7QtCDQtdCz0L4g0L3QsCDRgdGC0YDQsNC90LjRhtGDLlxuICovXG5jbGFzcyBDb21tZW50IHtcblxuICAvKipcbiAgICog0JrQvtC90YHRgtGA0YPQutGC0L7RgCDQutC70LDRgdGB0LAuXG4gICAqIEBwYXJhbSB7aW50fSBjb21tZW50SWQgaWQg0LrQvtC80LzQtdC90YLQsNGA0LjRjyDQsiDQsdGL0LfQtSDQtNCw0L3QvdGL0YUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lINC40LzRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8sINC+0YHRgtCw0LLQuNCy0YjQtdCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjQuS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2Ug0YLQtdC60YHRgiDQutC+0LzQvNC10L3RgtCw0YDQuNGPLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29tbWVudElkLCBuYW1lLCBtZXNzYWdlLCBhcHByb3ZlZCwgc2V0dGluZ3MpIHtcbiAgICAvLyB0aGlzLmlkX3VzZXIgPSB1c2VySWQ7XG4gICAgdGhpcy50ZXh0ID0gbWVzc2FnZTtcbiAgICB0aGlzLmlkX2NvbW1lbnQgPSBjb21tZW50SWQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmFwcHJvdmVkID0gTnVtYmVyLnBhcnNlSW50KGFwcHJvdmVkKTtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5jbGFzc0NvbnRhaW5lciA9ICdjb21tZW50LWl0ZW0nO1xuICAgIHRoaXMuY2xhc3NOYW1lID0gJ2NvbW1lbnQtaXRlbV9uYW1lJztcbiAgICB0aGlzLmNsYXNzTWVzc2FnZSA9ICdjb21tZW50LWl0ZW1fbWVzc2FnZSc7XG4gICAgdGhpcy5jbGFzc0RlbEJ0biA9ICdjb21tZW50LWl0ZW1fZGVsLWJ0bic7XG4gICAgdGhpcy5jbGFzc0FwcHJvdmVsQnRuID0gJ2NvbW1lbnQtaXRlbV9hcHByb3ZlLWJ0bic7XG4gIH1cblxuICAvKipcbiAgICog0KHQvtCx0LjRgNCw0LXRgiDQsdC70L7QuiDRgSDQutC+0LzQvNC10L3RgtCw0YDQuNC10Lwg0Lgg0LLRi9Cy0L7QtNC40YIg0LXQs9C+INC90LAg0YHRgtGA0LDQvdC40YbRgy5cbiAgICogQHBhcmFtIHtqUXVlcnl9ICRqUXVlcnlFbGVtZW50INGN0LvQtdC80LXQvdGCLdC+0LHQtdGA0YLQutCwINCyINC60L7RgtC+0YDRg9GOINCy0YvQstC+0LTQuNC8INC60L7QvNC80LXQvdGC0LDRgNC40LguXG4gICAqL1xuICByZW5kZXIoJGpRdWVyeUVsZW1lbnQpIHtcbiAgICBjb25zdCAkY29udGFpbmVyQ29tbWVudCA9ICQoJzxkaXYgLz4nLCB7XG4gICAgICBjbGFzczogdGhpcy5jbGFzc0NvbnRhaW5lcixcbiAgICAgICdkYXRhLWlkJzogdGhpcy5pZF9jb21tZW50LFxuICAgICAgJ2RhdGEtYXBwcm92ZWQnOiAhIXRoaXMuYXBwcm92ZWQsXG4gICAgfSk7XG4gICAgY29uc3QgJG5hbWVDb21tZW50ID0gJCgnPHAgLz4nLCB7XG4gICAgICBjbGFzczogdGhpcy5jbGFzc05hbWUsXG4gICAgICB0ZXh0OiB0aGlzLm5hbWUsXG4gICAgfSk7XG4gICAgY29uc3QgJG1lc3NhZ2VDb21tZW50ID0gJCgnPHAgLz4nLCB7XG4gICAgICBjbGFzczogdGhpcy5jbGFzc01lc3NhZ2UsXG4gICAgICB0ZXh0OiB0aGlzLnRleHQsXG4gICAgfSk7XG4gICAgY29uc3QgJGRlbEJ0bkNvbW1lbnQgPSAkKCc8YnV0dG9uIC8+Jywge1xuICAgICAgY2xhc3M6IHRoaXMuY2xhc3NEZWxCdG4sXG4gICAgICAnZGF0YS1pZCc6IHRoaXMuaWRfY29tbWVudCxcbiAgICAgICdkYXRhLXR5cGUnOiAnZGVsJyxcbiAgICAgIHRleHQ6ICfQo9C00LDQu9C40YLRjCcsXG4gICAgfSk7XG4gICAgY29uc3QgJGFwcHJvdmVCdG5Db21tZW50ID0gJCgnPGJ1dHRvbiAvPicsIHtcbiAgICAgIGNsYXNzOiB0aGlzLmNsYXNzQXBwcm92ZWxCdG4sXG4gICAgICAnZGF0YS1pZCc6IHRoaXMuaWRfY29tbWVudCxcbiAgICAgICdkYXRhLXR5cGUnOiAnYXBwJyxcbiAgICAgIHRleHQ6ICfQntC00L7QsdGA0LjRgtGMJyxcbiAgICB9KTtcbiAgICAkY29udGFpbmVyQ29tbWVudFxuICAgICAgLmFwcGVuZCgkbmFtZUNvbW1lbnQpXG4gICAgICAuYXBwZW5kKCRtZXNzYWdlQ29tbWVudClcbiAgICAgIC5hcHBlbmQoJGRlbEJ0bkNvbW1lbnQpXG4gICAgICAuYXBwZW5kVG8oJGpRdWVyeUVsZW1lbnQpO1xuXG4gICAgaWYgKCF0aGlzLmFwcHJvdmVkKSB7XG4gICAgICAkY29udGFpbmVyQ29tbWVudC5hcHBlbmQoJGFwcHJvdmVCdG5Db21tZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGNvbnRhaW5lckNvbW1lbnQuYWRkQ2xhc3Moc2V0dGluZ3MuY2xhc3NDb21tZW50QXBwcm92ZWQpO1xuICAgIH1cbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqINCe0LHQsdGK0LXQutGCINGBINC90LDRgdGC0YDQvtC50LrQsNC80Lgg0LTQu9GPINGA0LDQsdC+0YLRiyDRgdC60YDQuNC/0YLQsC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZENvbnRhaW5lciBpZCDRjdC70LXQvNC10L3RgtCwINC+0YHQvdC+0LLQvdC+0LPQviDQutC+0L3RgtC10LnQvdC10YDQsFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGlkQ29tbWVudEJsb2NrIGlkINGN0LvQtdC80LXQvdGC0LAg0LrQvtC90YLQtdC50L3QtdGA0LAg0LTQu9GPINCy0YvQstC+0LTQsCDQutC+0LzQvNC10L3RgtCw0YDQuNC10LIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY2xhc3NDb21tZW50QXBwcm92ZWQgY2xhc3Mg0L/RgNC40YHQstCw0LXQstCw0LXQvNGL0Lkg0L7QtNC+0LHRgNC10L3QvdC+0LzRgyDQutC+0LzQvNC10L3RgtCw0YDQuNGOLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHVybEdldEFsbENvbW1lbnRzINC/0YPRgtGMINC6INGE0LDQudC70YMo0LfQsNCz0LvRg9GI0LrQtSkgSlNPTiDQvtGC0LLQtdGC0LAg0YHQtdGA0LLQtdGA0LAg0L/RgNC4INC/0L7Qu9GD0YfQtdC90LjQuCDQutC+0LzQvNC10L3RgtCw0YDQuNC10LIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdXJsRGVsQ29tbWVudCDQv9GD0YLRjCDQuiDRhNCw0LnQu9GDKNC30LDQs9C70YPRiNC60LUpIEpTT04g0L7RgtCy0LXRgtCwINGB0LXRgNCy0LXRgNCwINC/0YDQuCDRg9C00LDQu9C10L3QuNC4INC60L7QvNC80LXQvdGC0LDRgNC40Y8uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdXJsQXBwcm92YWxDb21tZW50INC/0YPRgtGMINC6INGE0LDQudC70YMo0LfQsNCz0LvRg9GI0LrQtSkgSlNPTiDQvtGC0LLQtdGC0LAg0YHQtdGA0LLQtdGA0LAg0L/RgNC4INC+0LTQvtCx0YDQtdC90LjQuCDQutC+0LzQvNC10L3RgtCw0YDQuNGPLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHVybEFkZENvbW1lbnQg0L/Rg9GC0Ywg0Log0YTQsNC50LvRgyjQt9Cw0LPQu9GD0YjQutC1KSBKU09OINC+0YLQstC10YLQsCDRgdC10YDQstC10YDQsCDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0LrQvtC80LzQtdC90YLQsNGA0LjRjy5cbiAqL1xuY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGlkQ29udGFpbmVyOiAnY29udGFpbmVyJyxcbiAgaWRDb21tZW50QmxvY2s6ICdjb21tZW50X3dyYXBwZXInLFxuICBjbGFzc0NvbW1lbnRBcHByb3ZlZDogJ2FwcHJvdmVkJyxcbiAgdXJsR2V0QWxsQ29tbWVudHM6ICdoYW5kbGVyQ29tbWVudHMucGhwP3R5cGU9Z2V0JyxcbiAgdXJsRGVsQ29tbWVudDogJ2hhbmRsZXJDb21tZW50cy5waHA/dHlwZT1yZW1vdmUnLFxuICB1cmxBcHByb3ZhbENvbW1lbnQ6ICdoYW5kbGVyQ29tbWVudHMucGhwP3R5cGU9YXBwcm92ZWQnLFxuICB1cmxBZGRDb21tZW50OiAnaGFuZGxlckNvbW1lbnRzLnBocD90eXBlPWFkZCcsXG59O1xuXG4vKipcbiAqINCe0LHRitC10LrRgiDRgNCw0LHQvtGC0Ysg0YEg0LrQvtC80LzQtdC90YLQsNGA0LjRj9C80LguXG4gKiBAcHJvcGVydHkge09iamVjdH0gc2V0dGluZ3Mg0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQvtCx0YrQtdC60YLQsCDRgSDQvdCw0YHRgtGA0L7QudC60LDQvNC4LlxuICogQHByb3BlcnR5IHtqUXVlcnl9ICRlbENvbW1lbnRCbG9jayDRjdC70LXQvNC10L3Rgi3QvtCx0LXRgNGC0LrQsCDQtNC70Y8g0LLRi9Cy0L7QtNC40LzRi9GFINC60L7QvNC80LXQvdGC0LDRgNC40LXQsi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFyckFsbENvbW1lbnRzINC80LDRgdGB0LjQsiDQtNC70Y8g0LrQvtC80LzQtdC90YLQsNGA0LjQtdCyLCDQv9C+0LvRg9GH0LDQtdC80YvRhSDRgSDRgdC10YDQstC10YDQsC5cbiAqL1xuY29uc3QgY29tbWVudEJsb2NrID0ge1xuICBzZXR0aW5ncyxcbiAgJGVsQ29tbWVudEJsb2NrOiBudWxsLFxuICBhcnJBbGxDb21tZW50czogW10sXG5cbiAgLyoqXG4gICAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINCx0LvQvtC60LAg0YEg0LrQvtC80LzQtdC90YLQsNGA0LjRj9C80LgsINC30LDQv9GA0L7RgSDQuiDRgdC10YDQstC10YDRgyDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINGC0LXQutGD0YnQuNGFINC60L7QvNC80LXQvdGC0LDRgNC40LXQsi5cbiAgICog0J/QvtC70YPRh9Cw0LXRgiDQutC+0LzQvNC10L3RgtCw0YDQuNC4INGBINGB0LXRgNCy0LXRgNCwINC4INC+0YLRgNC40YHQvtCy0LDQstCw0LXRgiDQuNGFLlxuICAgKiDQndCw0LLRiNC40LLQsNC10YIg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8g0L3QsNC20LDRgtC40Y8g0LrQvdC+0L/QvtC6LlxuICAgKiDQkiDRgdC70YPRh9Cw0LUg0L7RiNC40LHQutC4INC+0YLQstC10YLQsCDQvtGCINGB0LXRgNCy0LXRgNCwLCDQstGL0LLQvtC00LjRgiDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LUg0LIg0LrQvtC90YHQvtC70YwuXG4gICAqL1xuICBpbml0KCkge1xuICAgIHRoaXMuJGVsQ29tbWVudEJsb2NrID0gJChgIyR7dGhpcy5zZXR0aW5ncy5pZENvbW1lbnRCbG9ja31gKTtcbiAgICAkKGAjJHt0aGlzLnNldHRpbmdzLmlkQ29udGFpbmVyfWApLm9uKCdjbGljaycsICdidXR0b24nLCBldmVudCA9PiB0aGlzLmJ0bkNsaWNrSGFuZGxlcihldmVudCkpO1xuICAgIHRoaXMuYWpheCh7XG4gICAgICB1cmw6IHRoaXMuc2V0dGluZ3MudXJsR2V0QWxsQ29tbWVudHMsXG4gICAgICBkYXRhOiAnJyxcbiAgICAgIHN1Y2Nlc3M6IGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YS5yZXN1bHQgJiYgZGF0YS5yZXN1bHQgPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDQntGI0LjQsdC60LAhINCe0YLQstC10YIg0L7RgiDRgdC10YDQstC10YDQsDogJHtkYXRhLmVycm9yX21lc3NhZ2V9YCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXJyQWxsQ29tbWVudHMgPSBkYXRhLmNvbW1lbnRzO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqINCe0YLRgNC40YHQvtCy0YvQstCw0LXRgiDQsdC70L7QutC4INGBINC60L7QvNC80LXQvdGC0LDRgNC40Y/QvNC4INC40Lcg0LzQsNGB0YHQuNCy0LAg0YEg0LrQvtC80LzQtdC90YLQsNGA0LjRj9C80LguXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuYXJyQWxsQ29tbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChjb25zdCBvYmogb2YgdGhpcy5hcnJBbGxDb21tZW50cykge1xuICAgICAgICBjb25zdCBjb21tZW50ID0gbmV3IENvbW1lbnQob2JqLmlkX2NvbW1lbnQsIG9iai5uYW1lLCBvYmoudGV4dCwgb2JqLmFwcHJvdmVkLCBzZXR0aW5ncyk7XG4gICAgICAgIGNvbW1lbnQucmVuZGVyKHRoaXMuJGVsQ29tbWVudEJsb2NrKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqINCe0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPINC60LvQuNC60LAg0L/QviDQutC90L7Qv9C60LUuXG4gICAqINCe0L/RgNC10LTQtdC70Y/QtdGCINC60LDQutCw0Y8g0LHRi9C70LAg0L3QsNC20LDRgtCwINC60L3QvtC/0LrQsCDQuCDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0Y3RgtC+0LPQviDQt9Cw0L/Rg9GB0LrQsNC10YIg0L7Qv9GA0LXQtNC10LvQtdC90L3Ri9C5INC80LXRgtC+0LQuXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50INGB0L7QsdGL0YLQuNC1INC60LvQuNC60LAg0L/QviDQutC90L7Qv9C60LUuXG4gICAqL1xuICBidG5DbGlja0hhbmRsZXIoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmRhdGFzZXQudHlwZSA9PT0gJ2RlbCcpIHtcbiAgICAgIHRoaXMucmVtb3ZlKGV2ZW50LnRhcmdldCk7XG4gICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuZGF0YXNldC50eXBlID09PSAnYXBwJykge1xuICAgICAgdGhpcy5hcHByb3ZlKGV2ZW50LnRhcmdldCk7XG4gICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuZGF0YXNldC50eXBlID09PSAnYWRkJykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuYWRkKGV2ZW50LnRhcmdldCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiDQntC00L7QsdGA0LXQvdC40LUg0L7Qv9GA0LXQtNC10LvQtdC90L3QvtCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjy4g0J7RgtC/0YDQsNCy0LvRj9C10YIgaWQg0L7QtNC+0LHRgNGP0LXQvNC+0LPQviDQutC+0LzQvNC10L3RgtCw0YDQuNGPINC90LAg0YHQtdGA0LLQtdGAINC4INCy0YHQu9GD0YfQsNC1INGD0LTQsNGH0L3QvtCz0L4g0L7RgtCy0LXRgtCwXG4gICAqINC+0YIg0YHQtdGA0LLQtdGA0LAg0LTQvtCx0LDQstC70Y/QtdGCINC60LvQsNGB0YEg0L7QtNC+0LHRgNC10L3QuNGPINC6INGC0LXQutGD0YnQtdC80YMg0LrQvtC80LzQtdC90YLQsNGA0LjRjiDQuCDRg9C00LDQu9GP0LXRgiDQutC90L7Qv9C60YMg0L7QtNC+0LHRgNC10L3QuNGPINGDINGC0LXQutGD0YnQtdCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjy5cbiAgICog0JXRgdC70Lgg0YHQtdGA0LLQtdGAINCy0LXRgNC90YPQuyDQvtGI0LjQsdC60YMsINGC0L4g0LLRi9Cy0L7QtNC40Lwg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1INC4INC90LUg0L/RgNC+0LjQt9Cy0L7QtNC40Lwg0L3QuCDQutCw0LrQuNC1INC40LfQvNC10L3QtdC90LjRjyDRgSDQutC+0LzQvNC10L3RgtCw0YDQuNC10LwuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0g0LrQvdC+0L/QutC4INC+0LTQvtCx0YDQtdC90LjRjyDQsdC70L7QutCwINGC0LXQutGD0YnQtdCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjy5cbiAgICovXG4gIGFwcHJvdmUoZWxlbSkge1xuICAgIHRoaXMuYWpheCh7XG4gICAgICB1cmw6IHRoaXMuc2V0dGluZ3MudXJsQXBwcm92YWxDb21tZW50LFxuICAgICAgZGF0YToge1xuICAgICAgICBpZF9jb21tZW50OiBlbGVtLmRhdGFzZXQuaWRcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiBkYXRhID0+IHtcbiAgICAgICAgKGZ1bmN0aW9uIChkYXRhLCBlbGVtLCBvYmopIHtcbiAgICAgICAgICBpZiAoZGF0YS5yZXN1bHQgJiYgZGF0YS5yZXN1bHQgPT09IDEpIHtcbiAgICAgICAgICAgICQoZWxlbSkucGFyZW50KCcuY29tbWVudC1pdGVtJykuYWRkQ2xhc3Mob2JqLnNldHRpbmdzLmNsYXNzQ29tbWVudEFwcHJvdmVkKVxuICAgICAgICAgICAgICAuYXR0cignZGF0YS1hcHByb3ZlZCcsIHRydWUpO1xuICAgICAgICAgICAgJChlbGVtKS5yZW1vdmUoKVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnJlc3VsdCA9PT0gMCkge1xuICAgICAgICAgICAgYWxlcnQoYNCh0LXRgNCy0LXRgCDQstC10YDQvdGD0Lsg0L7RiNC40LHQutGDOiAke2RhdGEuZXJyb3JfbWVzc2FnZX1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0oZGF0YSwgZWxlbSwgdGhpcykpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqINCj0LTQsNC70LXQvdC40LUg0L7Qv9GA0LXQtNC10LvQtdC90L3QvtCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjy4g0J7RgtC/0YDQsNCy0LvRj9C10YIgaWQg0YPQtNCw0LvRj9C10LzQvtCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjyDQvdCwINGB0LXRgNCy0LXRgCDQuCDQstGB0LvRg9GH0LDQtSDRg9C00LDRh9C90L7Qs9C+INC+0YLQstC10YLQsFxuICAgKiDQvtGCINGB0LXRgNCy0LXRgNCwINGD0LTQsNC70Y/QtdGCINCx0LvQvtC6INC00LDQvdC90L7Qs9C+INC60L7QvNC80LXQvdGC0LDRgNC40Y8uXG4gICAqINCV0YHQu9C4INGB0LXRgNCy0LXRgCDQstC10YDQvdGD0Lsg0L7RiNC40LHQutGDLCDRgtC+INCy0YvQstC+0LTQuNC8INGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtSDQuCDQvdC1INC/0YDQvtC40LfQstC+0LTQuNC8INC90Lgg0LrQsNC60LjQtSDQuNC30LzQtdC90LXQvdC40Y8g0YEg0LrQvtC80LzQtdC90YLQsNGA0LjQtdC8LlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtINC60L3QvtC/0LrQuCDRg9C00LDQu9C10L3QuNGPINCx0LvQvtC60LAg0YLQtdC60YPRidC10LPQviDQutC+0LzQvNC10L3RgtCw0YDQuNGPLlxuICAgKi9cbiAgcmVtb3ZlKGVsZW0pIHtcbiAgICB0aGlzLmFqYXgoe1xuICAgICAgdXJsOiB0aGlzLnNldHRpbmdzLnVybERlbENvbW1lbnQsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGlkX2NvbW1lbnQ6IGVsZW0uZGF0YXNldC5pZFxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IGRhdGEgPT4ge1xuICAgICAgICAoZnVuY3Rpb24gKGRhdGEsIGVsZW0pIHtcbiAgICAgICAgICBpZiAoZGF0YS5yZXN1bHQgJiYgZGF0YS5yZXN1bHQgPT09IDEpIHtcbiAgICAgICAgICAgICQoZWxlbSkucGFyZW50KGAuY29tbWVudC1pdGVtYCkucmVtb3ZlKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnJlc3VsdCA9PT0gMCkge1xuICAgICAgICAgICAgYWxlcnQoYNCh0LXRgNCy0LXRgCDQstC10YDQvdGD0Lsg0L7RiNC40LHQutGDOiAke2RhdGEuZXJyb3JfbWVzc2FnZX1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0oZGF0YSwgZWxlbSkpXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqINCU0L7QsdCw0LLQu9C10L3QuNC1INC90L7QstC+0LPQviDQutC+0LzQvNC10L3RgtCw0YDQuNGPLiDQldGB0LvQuCDQtNC+0YHRgtGD0L/QtdC9INGB0LrRgNC40L/RgiDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC80YssINGC0L4g0LfQsNGD0YHQutCw0LXRgiDQstCw0LvQuNC00LDRhtC40Y4g0Lgg0L/RgNC4INC/0YDQvtGF0L7QttC00LXQvdC40LhcbiAgICog0LLQsNC70LjQtNCw0YbQuNC4INC+0YLQv9GA0LDQstC70Y/QtdGCINC00LDQvdC90YvQtSDQvdC+0LLQvtCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjyDQvdCwINGB0LXRgNCy0LXRgCDQuCDQstGB0LvRg9GH0LDQtSDRg9C00LDRh9C90L7Qs9C+INC+0YLQstC10YLQsCDQvtGCINGB0LXRgNCy0LXRgNCwINC00L7QsdCw0LLQu9GP0LXRgiDQsdC70L7QulxuICAgKiDQvdC+0LLQvtCz0L4g0LrQvtC80LzQtdC90YLQsNGA0LjRjyDQvdC+INGB0YLRgNCw0L3QuNGG0YMuXG4gICAqINCV0YHQu9C4INGB0LrRgNC40L8g0LLQsNC70LjQtNCw0YbQuNC4INC90LUg0LTQvtGB0YLRg9C/0LXQvSwg0YLQviDQvdC1INC/0YDQvtC40LfQstC+0LTQuNGCINC/0YDQvtGG0LXRgdGBINCy0LDQu9C40LTQsNGG0LjQuCDQuCDQv9C10YDQtdGF0L7QtNC40YIg0Log0L7RgtC/0YDQsNCy0LrQtSDQtNCw0L3QvdGL0YUuXG4gICAqINCV0YHQu9C4INGB0LXRgNCy0LXRgCDQstC10YDQvdGD0Lsg0L7RiNC40LHQutGDLCDRgtC+INCy0YvQstC+0LTQuNC8INGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtSDQuCDQvdC1INC/0YDQvtC40LfQstC+0LTQuNC8INC90Lgg0LrQsNC60LjQtSDQtNC10LnRgdGC0LLQuNGPINGBINC60L7QvNC80LXQvdGC0LDRgNC40LXQvC5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSDQutC90L7Qv9C60Lgg0L7RgtC/0YDQsNCy0LrQuCDQtNCw0L3QvdGL0YUg0YTQvtGA0LzRiy5cbiAgICovXG4gIGFkZChlbGVtKSB7XG4gICAgaWYgKHZhbGlkYXRlRm9ybSkge1xuICAgICAgaWYgKCF2YWxpZGF0ZUZvcm0uc3RhcnRWYWxpZGF0ZSgkKGVsZW0pLnBhcmVudHMoJ2Zvcm0nKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChlbGVtKS5wYXJlbnRzKCdmb3JtJykuZmluZChgLiR7dmFsaWRhdGVGb3JtLmNsYXNzVmFsaWRhdGVJbnB1dH1gKS5yZW1vdmVDbGFzcyh2YWxpZGF0ZUZvcm0uY2xhc3NWYWxpZGF0ZUlucHV0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHVzZXJOYW1lSW5wdXQgPSAkKGVsZW0pLnNpYmxpbmdzKGAjbmFtZVVzZXJgKTtcbiAgICBsZXQgdXNlck1lc3NhZ2VJbnB1dCA9ICQoZWxlbSkuc2libGluZ3MoYCNjb21tZW50VXNlcmApO1xuICAgIGxldCB1c2VyTmFtZSA9IHVzZXJOYW1lSW5wdXQudmFsKCk7XG4gICAgbGV0IHVzZXJNZXNzYWdlID0gdXNlck1lc3NhZ2VJbnB1dC52YWwoKTtcbiAgICBpZiAodXNlck5hbWUgJiYgdXNlck1lc3NhZ2UpIHtcbiAgICAgIGxldCB1c2VySWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAgKiB1c2VyTmFtZS5sZW5ndGgpO1xuICAgICAgdGhpcy5hamF4KHtcbiAgICAgICAgdXJsOiB0aGlzLnNldHRpbmdzLnVybEFkZENvbW1lbnQsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZF91c2VyOiB1c2VySWQsXG4gICAgICAgICAgbmFtZTogdXNlck5hbWUsXG4gICAgICAgICAgdGV4dDogdXNlck1lc3NhZ2VcbiAgICAgICAgfSxcbiAgICAgICAgc3VjY2VzczogZGF0YSA9PiB7XG4gICAgICAgICAgKGZ1bmN0aW9uIChkYXRhLCBlbGVtLCBhcnJDb21tZW50cykge1xuICAgICAgICAgICAgaWYgKGRhdGEucmVzdWx0ICYmIGRhdGEucmVzdWx0ID09PSAxKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0NvbW1lbnQgPSBuZXcgQ29tbWVudChkYXRhLmlkLCB1c2VyTmFtZSwgdXNlck1lc3NhZ2UpO1xuICAgICAgICAgICAgICBuZXdDb21tZW50LnJlbmRlcihlbGVtKTtcbiAgICAgICAgICAgICAgYXJyQ29tbWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgXCJpZF9jb21tZW50XCI6IGRhdGEuaWQsXG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IHVzZXJOYW1lLFxuICAgICAgICAgICAgICAgIFwidGV4dFwiOiB1c2VyTWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdXNlck5hbWVJbnB1dC52YWwoJycpO1xuICAgICAgICAgICAgICB1c2VyTWVzc2FnZUlucHV0LnZhbCgnJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEucmVzdWx0ID09PSAwKSB7XG4gICAgICAgICAgICAgIGFsZXJ0KGDQodC10YDQstC10YAg0LLQtdGA0L3Rg9C7INC+0YjQuNCx0LrRgzogJHtkYXRhLmVycm9yX21lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfShkYXRhLCB0aGlzLiRlbENvbW1lbnRCbG9jaywgdGhpcy5hcnJBbGxDb21tZW50cykpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICog0J7QsdC10YDRgtC60LAg0LTQu9GPIGFqYXgg0LfQsNC/0YDQvtGB0LAuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSDQv9Cw0YDQsNC80LXRgtGA0Ysg0LfQsNC/0YDQvtGB0LAuXG4gICAqL1xuICBhamF4KHBhcmFtKSB7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogcGFyYW0udXJsLFxuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIGRhdGE6IHBhcmFtLmRhdGEsXG4gICAgICBzdWNjZXNzOiBwYXJhbS5zdWNjZXNzLFxuICAgICAgZXJyb3I6IChkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikgPT4gY29uc29sZS5lcnJvcih0ZXh0U3RhdHVzLCBqcVhIUiksXG4gICAgfSk7XG4gIH0sXG5cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuY29uc3QgYmlydGhkYXlJbnB1dCA9IHtcbiAgaWRJbnB1dERhdGVwaWNrZXI6ICdiaXJ0aGRheScsXG4gIGVycm9yTWVzc2FnZTogJ9CS0LLQtdC00LjRgtC1INC00LDRgtGDINGA0L7QttC00LXQvdC40Y8g0LIg0YTQvtGA0LzQsNGC0LUgXCLQtNC0L9C80Lwv0LPQs9Cz0LNcIicsXG4gIHJlZ0V4cENpdHk6IC9eWzAtM11bMC05XVxcL1swMV1bMC05XVxcL1sxMl1bMC05XXszfSQvLFxuXG4gIGluaXQoKSB7XG4gICAgJChgIyR7dGhpcy5pZElucHV0RGF0ZXBpY2tlcn1gKS5kYXRlcGlja2VyKHtcbiAgICAgIGNoYW5nZU1vbnRoOiB0cnVlLFxuICAgICAgY2hhbmdlWWVhcjogdHJ1ZSxcbiAgICAgIGZpcnN0RGF5OiAxLFxuICAgICAgZGF5TmFtZXNNaW46IFsn0JLRgScsICfQn9C9JywgJ9CS0YInLCAn0KHRgCcsICfQp9GCJywgJ9Cf0YInLCAn0KHQsSddLFxuICAgICAgZGF5TmFtZXM6IFsn0JLQvtGB0LrRgNC10YHQtdC90YzQtScsICfQn9C+0L3QtdC00LXQu9GM0L3QuNC6JywgJ9CS0YLQvtGA0L3QuNC6JywgJ9Ch0YDQtdC00LAnLCAn0KfQtdGC0LLQtdGA0LMnLCAn0J/Rj9GC0L3QuNGG0LAnLCAn0KHRg9Cx0LHQvtGC0LAnXSxcbiAgICAgIGRhdGVGb3JtYXQ6ICdkZC9tbS95eScsXG4gICAgICBtb250aE5hbWVzU2hvcnQ6IFsn0K/QvdCyJywgJ9Ck0LXQsicsICfQnNCw0YAnLCAn0JDQv9GAJywgJ9Cc0LDQuScsICfQmNGO0L0nLCAn0JjRjtC7JywgJ9CQ0LLQsycsICfQodC10L0nLCAn0J7QutGCJywgJ9Cd0L7RjycsICfQlNC10LonXSxcbiAgICB9KTtcbiAgfSxcblxuICB2YWxpZGF0ZShlbGVtKSB7XG4gICAgcmV0dXJuIHRoaXMucmVnRXhwQ2l0eS50ZXN0KGVsZW0udmFsdWUudHJpbSgpKTtcbiAgfSxcbn07XG4qL1xuXG4vKlxuLyEqKlxuICog0J7QsdGA0LDQsdCw0YLRi9Cy0LDQtdGCIGlucHV0INC00LvRjyDQstCy0L7QtNCwINCz0L7RgNC+0LTQsCwg0L/RgNC4INCy0LLQvtC00LUg0L3QsNC30LLQsNC90LjRjyDQs9C+0YDQvtC00LAg0L/RgNC10LTQu9Cw0LPQsNC10YIg0LLQsNGA0LjQsNC90YLRiy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZElucHV0Q2l0eSBpZCBIVE1MINGN0LvQtdC80LXQvdGC0LAgaW5wdXQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZXJyb3JNZXNzYWdlINGB0L7QtNC10YDQttC40YIg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1INCy0LDQu9C40LTQsNGG0LjQuCDQtNC70Y8g0L/QvtC70Y8gXCLQk9C+0YDQvtC0XCIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdXJsSlNPTiDQv9GD0YLRjCDQuiDRhNCw0LnQu9GDIC5qc29uINGBINC+0LHRitC10LrRgtCw0LzQuCDQs9C+0YDQvtC00L7Qsi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZEVsZW1MaXN0U2VhcmNoQ2l0eSBpZCBIVE1MINGN0LvQtdC80LXQvdGC0LAg0LIg0LrQvtGC0L7RgNC+0Lwg0L/QtdGA0LTQu9Cw0LPQsNGO0YLRgdGPINCy0LDRgNC40LDQvdGC0Ysg0LPQvtGA0L7QtNC+0LIuXG4gKiBAcHJvcGVydHkge1JlZ0V4cH0gcmVnRXhwQ2l0eSDRgNC10LPRg9C70Y/RgNC90L7QtSDQstGL0YDQsNC20LXQvdC40LUg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDQv9C+0LvRjyBcItCT0L7RgNC+0LRcIi5cbiAqIS9cbmNvbnN0IGlucHV0Q2l0eSA9IHtcbiAgaWRJbnB1dENpdHk6ICdjaXR5JyxcbiAgZXJyb3JNZXNzYWdlOiAn0JLQstC10LTQuNGC0LUg0LPQvtGA0L7QtCcsXG4gIHVybEpTT046ICdqc29uL2NpdHkuanNvbicsXG4gIGlkRWxlbUxpc3RTZWFyY2hDaXR5OiAnc2VhcmNoLWNpdHknLFxuICByZWdFeHBDaXR5OiAvXlthLXrQsC3Rj9GRIF17Mix9JC9pLFxuICBkYXRhQ2l0eTogW10sLy9cblxuICAvISoqXG4gICAqINCS0LXRiNCw0LXRgiDRgdC+0LHRi9GC0LjRjyDQvdCwIGlucHV0INC00LvRjyDQstCy0L7QtNCwINCz0L7RgNC+0LTQsC5cbiAgICohL1xuICBpbml0KCkge1xuICAgICQoYCMke3RoaXMuaWRJbnB1dENpdHl9YCkub24oJ2tleXVwIGNsaWNrJywgZXZlbnQgPT4gdGhpcy5rZXlQcmVzc0hhbmRsZXIoZXZlbnQpKTtcbiAgICAvLyAub24oJyBmb2N1c291dCcsICgpID0+IHRoaXMub3V0T3B0aW9uQ2l0aWVzKG51bGwsIHRydWUpKTtcblxuICAgICQuZ2V0SlNPTih0aGlzLnVybEpTT04sIChkYXRhKSA9PiB0aGlzLmRhdGFDaXR5ID0gZGF0YSk7Ly9cbiAgfSxcblxuICAvISoqXG4gICAqINCe0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPINC90LDQttCw0YLQuNGPINC90LAg0LrQvdC+0L/QutC4INC60LvQsNCy0LjQsNGC0YPRgNGLINC/0YDQuCDQstCy0L7QtNC1INC90LDQt9Cy0LDQvdC40Y8g0LPQvtGA0L7QtNCwLlxuICAgKiDQldGB0LvQuCDRgdC40LzQstC+0LvQvtCyINCy0LLQtdC00LXQvdC+INC80LXQvdGM0YjQtSAzINGC0L4g0YPQtNCw0LvRj9C10Lwg0L7QutC90L4g0YEg0L/RgNC10LTQu9C+0LPQsNC10LzRi9C8INGB0L/QuNGB0LrQvtC8INCz0L7RgNC+0LTQvtCyLCDQtdGB0LvQuCDQvtC9INC10YHRgtGMLlxuICAgKiDQldGB0LvQuCDRgdC40LzQstC+0LvQvtCyINCy0LLQtdC00LXQvdC+IDMg0Lgg0LHQvtC70YzRiNC1LCDQvtGC0L/RgNCw0LLQu9GP0LXRgiDQt9Cw0L/RgNC+0YEg0L3QsCDQv9C+0LvRg9GH0LXQvdC40Y8g0LzQsNGB0YHQuNCy0LAg0YEg0L7QsdGK0LXQutGC0LDQvNC4INCz0L7RgNC+0LTQvtCyLFxuICAgKiDQuNC90LjRhtC40LDQu9C40LfQuNGA0YPQtdGCINGA0LXQs9GD0LvRj9GA0L3QvtC1INCy0YvRgNCw0LbQtdC90LjQtSDQuCDQstGL0LfRi9Cy0LDQtdGCINGE0YPQvdC60YbQuNGOINC00LvRjyDQv9Cw0YDRgdC40L3QutCwINC80LDRgdGB0LjQstCwINGBINCz0L7RgNC+0LTQsNC80LguXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50INGB0L7QsdGL0YLQuNC1INC/0YDQvtC40LfQvtGI0LXQtNGI0LXQtSDQsiDQv9C+0LvQtSDQstCy0L7QtNCwINC90LDQt9Cy0LDQvdC40Y8g0LPQvtGA0L7QtNCwLlxuICAgKiEvXG4gIGtleVByZXNzSGFuZGxlcihldmVudCkge1xuICAgIGNvbnN0IGlucHV0ID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IGRhdGFVc2VyID0gaW5wdXQudmFsdWU7XG4gICAgaWYgKGRhdGFVc2VyLmxlbmd0aCA8IDMpIHtcbiAgICAgIHRoaXMub3V0T3B0aW9uQ2l0aWVzKG51bGwsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZWdFeHAgPSBuZXcgUmVnRXhwKGBeJHtkYXRhVXNlcn1bXFx30LAt0Y/RkSBdezAsfWAsICdpJyk7XG5cbiAgICAgIHRoaXMucGFyc0pTT04odGhpcy5kYXRhQ2l0eSwgcmVnRXhwKTsvL1xuXG4gICAgICAvLyAkLmdldEpTT04odGhpcy51cmxKU09OLCAoZGF0YSkgPT4gdGhpcy5wYXJzSlNPTihkYXRhLCByZWdFeHApKTtcbiAgICB9XG4gIH0sXG5cbiAgLyEqKlxuICAgKiDQn9Cw0YDRgdC40YIg0LzQsNGB0YHQuNCyINGBINC+0LHRitC10LrRgtCw0LzQuCDQs9C+0YDQvtC00L7QsiDQv9GA0L7QstC10YDRj9GPINC60LDQttC00L7QtSDQvdCw0LfQstCw0L3QuNC1INCz0L7RgNC+0LTQsCDQvdCwINGB0L7QvtGC0LLQtdGB0YLQstC40LUg0YDQtdCz0YPQu9GP0YDQvdC+0LzRgyDQstGL0YDQsNC20LXQvdC40Y5cbiAgICog0Lgg0LjQtyDRgtC10YUg0LrQvtGC0L7RgNGL0LUg0L/RgNC+0LfQvtC00Y/RgiDQv9GA0L7QstC10YDQutGDINC/0YAg0YDQtdCz0YPQu9GP0YDQutC1INGB0LrQu9Cw0LTRi9Cy0LDQtdGCINCyINC+0YLQtNC10LvRjNC90YvQuSDQvNCw0YHRgdC40LIuXG4gICAqINCX0LDQv9GD0YHQutCw0LXRgiDQvNC10YLQvtC0INCy0YvQstC+0LTQsCDRjdGC0LjRhSDQs9C+0YDQvtC00L7QsiDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y4uXG4gICAqIEBwYXJhbSB7T2JqZWN0W119IGRhdGEg0LzQsNGB0YHQuNCyINC+0LHRitC10LrRgtC+0LIg0LPQvtGA0L7QtNC+0LIg0LTQu9GPINC/0YDQvtCy0LXRgNC60Lgg0YDQtdCz0YPQu9GP0YDQvdGL0Lwg0LLRi9GA0LDQttC10L3QuNC10LwuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZWdFeHAg0YDQtdCz0YPQu9GP0YDQvdC+0LUg0LLRi9GA0LDQttC10L3QuNC1LlxuICAgKiEvXG4gIHBhcnNKU09OKGRhdGEsIHJlZ0V4cCkge1xuICAgIGxldCBhcnJTZWFyY2hPYmplY3RDaXR5ID0gW107XG4gICAgZm9yIChjb25zdCBvYmogb2YgZGF0YSkge1xuICAgICAgaWYgKHJlZ0V4cC50ZXN0KG9iai5uYW1lKSkge1xuICAgICAgICBjb25zdCBvYmpPdXQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBvYmopIHtcbiAgICAgICAgICBvYmpPdXRbcHJvcE5hbWVdID0gb2JqW3Byb3BOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJyU2VhcmNoT2JqZWN0Q2l0eS5sZW5ndGggPiAxMCkgYnJlYWs7XG4gICAgICAgIGFyclNlYXJjaE9iamVjdENpdHkucHVzaChvYmpPdXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWFyclNlYXJjaE9iamVjdENpdHkubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5vdXRPcHRpb25DaXRpZXMoYXJyU2VhcmNoT2JqZWN0Q2l0eSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3V0T3B0aW9uQ2l0aWVzKGFyclNlYXJjaE9iamVjdENpdHkpO1xuICAgIH1cbiAgfSxcblxuXG4gIC8hKipcbiAgICog0JLRi9Cy0L7QtNC40YIg0L/RgNC10LTQu9Cw0LPQsNC10LzRi9C5INGB0L/QuNGB0L7QuiDQs9C+0YDQvtC00L7QsiDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y4g0LjQu9C4INGB0LrRgNGL0LLQsNC10YIg0Y3RgtC+0YIg0YHQv9C40YHQvtC6LlxuICAgKiBAcGFyYW0ge09iamVjdFtdfSBhcnJPYmpDaXRpZXMg0LzQsNGB0YHQuNCyINC+0LHRitC10LrRgtC+0LIg0LPQvtGA0L7QtNC+0LIg0LTQu9GPINCy0YvQstC+0LTQsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y4uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVtb3ZlINC10YHQu9C4IHRydWUg0YLQviDRg9C00LDQu9GP0LXQvCDRgdC/0LjRgdC+0Log0LPQvtGA0L7QtNC+LCBmYWxzZSDQstGL0LLQvtC00LjQvC5cbiAgICohL1xuICBvdXRPcHRpb25DaXRpZXMoYXJyT2JqQ2l0aWVzLCByZW1vdmUgPSBmYWxzZSkge1xuICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICQoYCMke3RoaXMuaWRFbGVtTGlzdFNlYXJjaENpdHl9YCkucmVtb3ZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0ICR1bE91dCA9ICQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKSkuYXR0cignaWQnLCB0aGlzLmlkRWxlbUxpc3RTZWFyY2hDaXR5KVxuICAgICAgICAuY2xpY2soZXZlbnQgPT4gdGhpcy5jbGlja0xpSGFuZGxlcihldmVudCkpO1xuICAgICAgZm9yIChjb25zdCBvYmogb2YgYXJyT2JqQ2l0aWVzKSB7XG4gICAgICAgICR1bE91dC5hcHBlbmQoJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpKS5hdHRyKCd2YWx1ZScsIG9iai5pZCkudGV4dChvYmoubmFtZSkpO1xuICAgICAgfVxuICAgICAgaWYgKCQoYCMke3RoaXMuaWRFbGVtTGlzdFNlYXJjaENpdHl9YCkubGVuZ3RoID4gMCkge1xuICAgICAgICAkKGAjJHt0aGlzLmlkRWxlbUxpc3RTZWFyY2hDaXR5fWApLnJlcGxhY2VXaXRoKCR1bE91dCk7XG4gICAgICB9XG4gICAgICAkKGAjJHt0aGlzLmlkSW5wdXRDaXR5fWApLmFmdGVyKCR1bE91dCk7XG4gICAgfVxuICB9LFxuXG4gIGNsaWNrTGlIYW5kbGVyKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC50YWdOYW1lID09PSAnTEknKSB7XG4gICAgICAkKGAjJHt0aGlzLmlkSW5wdXRDaXR5fWApLnZhbChldmVudC50YXJnZXQuaW5uZXJUZXh0KTtcbiAgICB9XG4gICAgdGhpcy5vdXRPcHRpb25DaXRpZXMobnVsbCwgdHJ1ZSk7XG4gIH0sXG5cbiAgLyEqKlxuICAgKiDQn9GA0L7QstC+0LTQuNGCINCy0LDQu9C40LTQsNGG0LjRjiDQv9C+0LvRjyBpbnB1dC5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSDRjdC70LXQvNC10L3RgiBpbnB1dC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0g0LLQvtC30LLRgNCw0YnQsNC10YIgdHJ1ZSDQtdGB0LvQuCDRjdC70LXQvNC10L3RgiDQv9GA0L7RhdC+0LTQuNGCINCy0LDQu9C40LTQsNGG0LjRjiDQuNC90LDRh9C1IGZhbHNlLlxuICAgKiEvXG4gIHZhbGlkYXRlU2VsZWN0KGVsZW0pIHtcbiAgICByZXR1cm4gdGhpcy5yZWdFeHBDaXR5LnRlc3QoZWxlbS52YWx1ZS50cmltKCkpO1xuICB9LFxufTtcbiovXG5cblxuLyoqXG4gKiDQktCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LzRiy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZElucHV0TmFtZSBpZCBIVE1MINGN0LvQtdC80LXQvdGC0LAgaW5wdXQg0LTQu9GPINCy0LLQvtC00LAg0LjQvNC10L3QuC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZElucHV0UGhvbmUgaWQgSFRNTCDRjdC70LXQvNC10L3RgtCwIGlucHV0INC00LvRjyDQstCy0L7QtNCwINGC0LXQu9C10YTQvtC90LAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRJbnB1dEVtYWlsIGlkIEhUTUwg0Y3Qu9C10LzQtdC90YLQsCBpbnB1dCDQtNC70Y8g0LLQstC+0LTQsCBlbWFpbC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZElucHV0TWVzc2FnZSBpZCBIVE1MINGN0LvQtdC80LXQvdGC0LAgaW5wdXQg0LTQu9GPINCy0LLQvtC00LAg0YHQvtC+0LHRidC10L3QuNGPLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGlkQnRuU3VibWl0IGlkIEhUTUwg0Y3Qu9C10LzQtdC90YLQsCBidXR0b24g0LTQu9GPINC+0YLQv9GA0LDQstC60Lgg0YTQvtGA0LzRiy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjbGFzc0VsZW1PdXRFcnIgY2xhc3MgSFRNTCDRjdC70LXQvNC10L3RgtCwIGRpdiDQtNC70Y8g0LLRi9Cy0L7QtNCwINGB0L7QvtCx0YnQtdC90LjRjyDQvtCxINC+0YjQuNCx0LrQtSDQstCw0LvQuNC00LDRhtC40Lgg0L/QvtC70Y8uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY2xhc3NOb1ZhbGlkYXRlSW5wdXQgY2xhc3MgSFRNTCDRjdC70LXQvNC10L3RgtCwIGlucHV0INC40LvQuCB0ZXh0YXJlYVxuICog0LTQu9GPINCy0YvQtNC10LvQtdC90LjRjyDRgNCw0LzQutC+0Lkg0LIg0YHQu9GD0YfQsNC1INC+0YjQuNCx0LrQuCDQstCw0LvQuNC00LDRhtC40Lgg0L/QvtC70Y8uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY2xhc3NWYWxpZGF0ZUlucHV0IGNsYXNzIEhUTUwg0Y3Qu9C10LzQtdC90YLQsCBpbnB1dCDQuNC70LggdGV4dGFyZWFcbiAqINC00LvRjyDQstGL0LTQtdC70LXQvdC40Y8g0YDQsNC80LrQvtC5INCyINGB0LvRg9GH0LDQtSDRg9C00LDRh9C90L7QuSDQstCw0LvQuNC00LDRhtC40Lgg0L/QvtC70Y8uXG4gKiBAcHJvcGVydHkge09iamVjdH0gZXJyb3JNZXNzYWdlINC+0LHQtdC60YIg0YEg0YHQvtC+0LHRidC10L3QuNGP0LzQuCDQvtCxINC+0YjQuNCx0LrQsNGFINCy0LDQu9C40LTQsNGG0LjQuC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBlcnJvck1lc3NhZ2UubmFtZSDRgdC+0LTQtdGA0LbQuNGCINGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtSDQstCw0LvQuNC00LDRhtC40Lgg0LTQu9GPINC/0L7Qu9GPIFwi0LjQvNGPXCIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZXJyb3JNZXNzYWdlLnBob25lINGB0L7QtNC10YDQttC40YIg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1INCy0LDQu9C40LTQsNGG0LjQuCDQtNC70Y8g0L/QvtC70Y8gXCLRgtC10LvQtdGE0L7QvVwiLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVycm9yTWVzc2FnZS5tZXNzYWdlINGB0L7QtNC10YDQttC40YIg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1INCy0LDQu9C40LTQsNGG0LjQuCDQtNC70Y8g0L/QvtC70Y8gXCLRgdC+0L7QsdGJ0LXQvdC40LVcIi5cbiAqIEBwcm9wZXJ0eSB7UmVnRXhwfSByZWdFeHBOYW1lINGA0LXQs9GD0LvRj9GA0L3QvtC1INCy0YvRgNCw0LbQtdC90LjQtSDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INC/0L7Qu9GPIFwi0LjQvNGPXCIuXG4gKiBAcHJvcGVydHkge1JlZ0V4cH0gcmVnRXhwUGhvbmUg0YDQtdCz0YPQu9GP0YDQvdC+0LUg0LLRi9GA0LDQttC10L3QuNC1INC00LvRjyDQstCw0LvQuNC00LDRhtC40Lgg0L/QvtC70Y8gXCLRgtC10LvQtdGE0L7QvVwiLlxuICogQHByb3BlcnR5IHtSZWdFeHB9IHJlZ0V4cEVtYWlsINGA0LXQs9GD0LvRj9GA0L3QvtC1INCy0YvRgNCw0LbQtdC90LjQtSDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INC/0L7Qu9GPIFwiZW1haWxcIi5cbiAqIEBwcm9wZXJ0eSB7UmVnRXhwfSByZWdFeHBNZXNzYWdlINGA0LXQs9GD0LvRj9GA0L3QvtC1INCy0YvRgNCw0LbQtdC90LjQtSDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INC/0L7Qu9GPIFwi0YHQvtC+0LHRidC10L3QuNC1XCIuXG4gKi9cbmNvbnN0IHZhbGlkYXRlRm9ybSA9IHtcbiAgLy8gYmlydGhkYXlJbnB1dCxcbiAgaWRJbnB1dE5hbWU6ICduYW1lVXNlcicsXG4gIGlkSW5wdXRQaG9uZTogJ3Bob25lJyxcbiAgaWRJbnB1dEVtYWlsOiAnZW1haWwnLFxuICBpZElucHV0TWVzc2FnZTogJ2NvbW1lbnRVc2VyJyxcbiAgaWRCdG5TdWJtaXQ6ICdidG5BZGRDb21tZW50JyxcbiAgY2xhc3NFbGVtT3V0RXJyOiAnZXJyb3ItbWVzc2FnZScsXG4gIGNsYXNzTm9WYWxpZGF0ZUlucHV0OiAnZXJyb3ItaW5wdXQnLFxuICBjbGFzc1ZhbGlkYXRlSW5wdXQ6ICdzdWNjZXNzLWlucHV0JyxcbiAgZXJyb3JNZXNzYWdlOiB7XG4gICAgbmFtZVVzZXI6ICfQmNC80Y8g0LTQvtC70LbQvdC+INGB0L7QtNC10YDQttCw0YLRjCDRgtC+0LvRjNC60L4g0LHRg9C60LLRiycsXG4gICAgcGhvbmU6ICfQotC10LvQtdGE0L7QvSDQtNC+0LvQttC10L0g0LHRi9GC0Ywg0LIg0YTQvtGA0LzQsNGC0LUgXCIrNygwMDApMDAwLTAwMDBcIicsXG4gICAgZW1haWw6ICfQndC1INC60L7RgNGA0LXQutGC0L3Ri9C5IGVtYWlsJyxcbiAgICBjb21tZW50VXNlcjogJ9CS0Ysg0LfQsNCx0YvQu9C4INC90LDQv9C40YHQsNGC0Ywg0LrQvtC80LzQtdC90YLQsNGA0LjQuScsXG4gICAgLypcbiAgICAgICAgY2l0eTogaW5wdXRDaXR5LmVycm9yTWVzc2FnZSxcbiAgICAgICAgYmlydGhkYXk6IGJpcnRoZGF5SW5wdXQuZXJyb3JNZXNzYWdlLFxuICAgICovXG4gIH0sXG4gIHJlZ0V4cE5hbWU6IC9eW2EtetCwLdGP0ZFdezIsfSQvaSxcbiAgcmVnRXhwUGhvbmU6IC9eXFwrXFxkXFwoXFxkezN9XFwpXFxkezN9LVxcZHs0fSQvLFxuICByZWdFeHBFbWFpbDogL15bYS16MC05LV8uXStAW2Etel0rLlthLXpdezIsNH0kL2ksXG4gIHJlZ0V4cE1lc3NhZ2U6IC9bXFx30LAt0Y/RkV17Myx9LyxcblxuXG4gIC8qKlxuICAgKiDQl9Cw0L/Rg9GB0Log0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC80YsuXG4gICAqINCf0YDQvtGF0L7QtNC40YLRgdGPINC/0L4g0LLRgdC10Lwg0L3Rg9C20L3Ri9C8INGN0LvQtdC80LXQvdGC0LDQvCDQuCDQt9Cw0L/Rg9GB0LrQsNC10YIg0LTQu9GPINC60LDQttC00L7Qs9C+INCy0LDQu9C40LTQsNGG0LjRjiwg0LXRgdC70Lgg0YXQvtGC0Ywg0L7QtNC90LAg0LXRgdGC0Ywg0L7RiNC40LHQutCwINCy0LDQu9C40LTQsNGG0LjQuCDRgtC+INCy0L7Qt9Cy0YDQsNGJ0LDQtdC8IGZhbHNlLCDQuNC90LDRh9C1IHRydWUuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBmb3JtIGpRdWVyeSDRjdC70LXQvNC10L3RgiDQstCw0LvQuNC00LjRgNGD0LXQvNC+0Lkg0YTQvtGA0LzRiy5cbiAgICovXG4gIHN0YXJ0VmFsaWRhdGUoZm9ybSkge1xuICAgIGxldCBhcnIgPSAkKGZvcm0pLmZpbmQoJ2lucHV0LCB0ZXh0YXJlYScpO1xuICAgIGxldCB2YWxpZCA9IHRydWU7XG4gICAgZm9yIChsZXQgZWxlbSBvZiBhcnIpIHtcbiAgICAgIGlmIChlbGVtLmlkID09PSB0aGlzLmlkQnRuU3VibWl0KSBjb250aW51ZTtcbiAgICAgIGxldCB2YWxpZGF0ZVJlc3VsdCA9IHRoaXMudmFsaWRhdGVJbnB1dChlbGVtKTtcbiAgICAgIGlmICghdmFsaWRhdGVSZXN1bHQpIHtcbiAgICAgICAgdGhpcy5vdXRNZXNzYWdlRmFpbFZhbGlkYXRlKGVsZW0pO1xuICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vdXRNZXNzYWdlRmFpbFZhbGlkYXRlKGVsZW0sIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsaWQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqINCS0LDQu9C40LTQsNGG0LjRjyDQutCw0LbQtNC+0LPQviDQv9C+0LvRjyDRgdCy0L7QuNC8INGA0LXQs9GD0LvRj9GA0L3Ri9C8INCy0YvRgNCw0LbQtdC90LjQtdC8LlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtINGN0LvQtdC80LXQvdGCLCDQutC+0YLQvtGA0YvQuSDRgtGA0LXQsdGD0LXRgtGB0Y8g0L/RgNC+0LLQsNC70LjQtNC40YDQvtCy0LDRgtGMLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSDQstC+0LfQstGA0LDRidCw0LXRgiB0cnVlINC10YHQu9C4INGN0LvQtdC80LXQvdGCINC/0YDQvtGF0L7QtNC40YIg0LLQsNC70LjQtNCw0YbQuNGOINC40L3QsNGH0LUgZmFsc2UuXG4gICAqL1xuICB2YWxpZGF0ZUlucHV0KGVsZW0pIHtcbiAgICBzd2l0Y2ggKGVsZW0uaWQpIHtcbiAgICAgIGNhc2UgdGhpcy5pZElucHV0TmFtZTpcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnRXhwTmFtZS50ZXN0KGVsZW0udmFsdWUudHJpbSgpKTtcblxuICAgICAgY2FzZSB0aGlzLmlkSW5wdXRQaG9uZTpcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnRXhwUGhvbmUudGVzdChlbGVtLnZhbHVlLnRyaW0oKSk7XG5cbiAgICAgIGNhc2UgdGhpcy5pZElucHV0RW1haWw6XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ0V4cEVtYWlsLnRlc3QoZWxlbS52YWx1ZS50cmltKCkpO1xuXG4gICAgICBjYXNlIHRoaXMuaWRJbnB1dE1lc3NhZ2U6XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ0V4cE1lc3NhZ2UudGVzdChlbGVtLnZhbHVlLnRyaW0oKSk7XG5cbiAgICAgIC8qXG4gICAgICAgICAgICBjYXNlIGlucHV0Q2l0eS5pZElucHV0Q2l0eTpcbiAgICAgICAgICAgICAgcmV0dXJuIGlucHV0Q2l0eS52YWxpZGF0ZVNlbGVjdChlbGVtKTtcblxuICAgICAgICAgICAgY2FzZSB0aGlzLmJpcnRoZGF5SW5wdXQuaWRJbnB1dERhdGVwaWNrZXI6XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmJpcnRoZGF5SW5wdXQudmFsaWRhdGUoZWxlbSk7XG4gICAgICAqL1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICog0J7RgNCz0LDQvdC40LfRg9C10YIg0LLRi9Cy0L7QtCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y4o0LLQsNC70LjQtNCw0YbQuNGPINC/0YDQvtGI0LvQsCDQuNC70Lgg0L3QtdGCKVxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtINCyINC60L7RgtC+0YDQvtC8INC/0YDQvtGI0LvQsCDQstCw0LvQuNC00LDRhtC40Y8g0Lgg0LrQvtGC0L7RgNGL0Lkg0L3QsNC00L4g0L/QvtC60LDQt9Cw0YLRjCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y4sINC10YHQu9C4INCy0LDQu9C40LTQsNGG0LjRjyDRg9C00LDRh9C90LAsINGC0L4g0LfQtdC70LXQvdGL0LkgYm9yZGVyINGDINGN0LvQtdC80LXQvdGC0LAsINC10YHQu9C4INC90LUg0YPQtNCw0YfQvdCwLCDRgtC+INC60YDQsNGB0L3Ri9C5IGJvcmRlciDQuCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsaWRhdGUg0LXRgdC70LggdHJ1ZSDRgtC+INC00LXQudGB0YLQstGD0LXQvCDQv9C+INCw0LvQs9C+0YDQuNGC0LzRgyDRg9GB0L/QtdGFLCBmYWxzZSDQtNC10LnRgdGC0LLRg9C10Lwg0L/QviDQsNC70LPQvtGA0LjRgtC80YMg0L7RiNC40LHQutCwLlxuICAgKi9cbiAgb3V0TWVzc2FnZUZhaWxWYWxpZGF0ZShlbGVtLCB2YWxpZGF0ZSA9IGZhbHNlKSB7XG4gICAgbGV0IGVsZW1FcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBlcnJvci0ke2VsZW0uaWR9YCk7XG4gICAgaWYgKCF2YWxpZGF0ZSkge1xuICAgICAgaWYgKCFlbGVtRXJyb3IpIHtcbiAgICAgICAgZWxlbUVycm9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVsZW1FcnJvci5pZCA9IGBlcnJvci0ke2VsZW0uaWR9YDtcbiAgICAgICAgZWxlbUVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc0VsZW1PdXRFcnIpO1xuICAgICAgICBlbGVtLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGVsZW1FcnJvciwgZWxlbS5uZXh0RWxlbWVudFNpYmxpbmcpO1xuICAgICAgfVxuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY2xhc3NWYWxpZGF0ZUlucHV0KTtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzTm9WYWxpZGF0ZUlucHV0KTtcbiAgICAgIGVsZW1FcnJvci5pbm5lclRleHQgPSAnLSAnICsgdGhpcy5lcnJvck1lc3NhZ2VbZWxlbS5pZF07XG4gICAgICBlbGVtLnZhbHVlID0gJyc7XG5cbiAgICAgICQoZWxlbSkuZWZmZWN0KCdib3VuY2UnKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZWxlbUVycm9yKSB7XG4gICAgICAgIGVsZW1FcnJvci5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1FcnJvcik7XG4gICAgICB9XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jbGFzc05vVmFsaWRhdGVJbnB1dCk7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc1ZhbGlkYXRlSW5wdXQpO1xuICAgICAgZWxlbS52YWx1ZSA9IGVsZW0udmFsdWUudHJpbSgpO1xuICAgIH1cbiAgfSxcbn07Il19
